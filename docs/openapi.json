{"openapi":"3.1.0","info":{"title":"ProsperShield API","description":"Security management system API","version":"1.0.0"},"paths":{"/auth/login":{"post":{"tags":["authentication"],"summary":"Login","description":"Authenticate user and create access token.","operationId":"login_auth_login_post","requestBody":{"content":{"application/x-www-form-urlencoded":{"schema":{"$ref":"#/components/schemas/Body_login_auth_login_post"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Token"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/auth/refresh":{"post":{"tags":["authentication"],"summary":"Refresh Token","description":"Refresh access token for web app.","operationId":"refresh_token_auth_refresh_post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Token"}}}}},"security":[{"HTTPBearer":[]}]}},"/auth/me":{"get":{"tags":["authentication"],"summary":"Get Current User Info","description":"Get current user information.","operationId":"get_current_user_info_auth_me_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserRead"}}}}},"security":[{"HTTPBearer":[]}]}},"/auth/debug":{"get":{"tags":["authentication"],"summary":"Debug Jwt","description":"Debug JWT configuration.","operationId":"debug_jwt_auth_debug_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/users/":{"get":{"tags":["users"],"summary":"List Users","description":"List all users.","operationId":"list_users_users__get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"skip","in":"query","required":false,"schema":{"type":"integer","default":0,"title":"Skip"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","default":100,"title":"Limit"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/UserRead"},"title":"Response List Users Users  Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"tags":["users"],"summary":"Create User","description":"Create a new user.","operationId":"create_user_users__post","security":[{"HTTPBearer":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserCreate"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserRead"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/users/me":{"get":{"tags":["users"],"summary":"Get Current User","description":"Get the currently authenticated user.","operationId":"get_current_user_users_me_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserRead"}}}}},"security":[{"HTTPBearer":[]}]}},"/users/admin-only":{"get":{"tags":["users"],"summary":"Admin Only Endpoint","description":"Admin only endpoint.","operationId":"admin_only_endpoint_users_admin_only_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserRead"}}}}},"security":[{"HTTPBearer":[]}]}},"/users/{user_id}":{"get":{"tags":["users"],"summary":"Get User","description":"Get user details by ID.","operationId":"get_user_users__user_id__get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"user_id","in":"path","required":true,"schema":{"type":"integer","title":"User Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserRead"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"put":{"tags":["users"],"summary":"Update User","description":"Update user details.","operationId":"update_user_users__user_id__put","security":[{"HTTPBearer":[]}],"parameters":[{"name":"user_id","in":"path","required":true,"schema":{"type":"integer","title":"User Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserRead"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["users"],"summary":"Delete User","description":"Delete a user by ID.","operationId":"delete_user_users__user_id__delete","security":[{"HTTPBearer":[]}],"parameters":[{"name":"user_id","in":"path","required":true,"schema":{"type":"integer","title":"User Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/users/{user_id}/shifts":{"get":{"tags":["users"],"summary":"Get User Shifts","description":"Get shifts for a specific user\n\n**Required permissions:** shift:read_all (or own shifts)","operationId":"get_user_shifts_users__user_id__shifts_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"user_id","in":"path","required":true,"schema":{"type":"integer","title":"User Id"}},{"name":"start_date","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"description":"Filter shifts from this date","title":"Start Date"},"description":"Filter shifts from this date"},{"name":"end_date","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"description":"Filter shifts until this date","title":"End Date"},"description":"Filter shifts until this date"},{"name":"status","in":"query","required":false,"schema":{"anyOf":[{"$ref":"#/components/schemas/ShiftStatusEnum"},{"type":"null"}],"description":"Filter by shift status","title":"Status"},"description":"Filter by shift status"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ShiftRead"},"title":"Response Get User Shifts Users  User Id  Shifts Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/roles/":{"get":{"tags":["roles"],"summary":"Read Roles","operationId":"read_roles_roles__get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"skip","in":"query","required":false,"schema":{"type":"integer","default":0,"title":"Skip"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","default":100,"title":"Limit"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Role"},"title":"Response Read Roles Roles  Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"tags":["roles"],"summary":"Create Role","operationId":"create_role_roles__post","security":[{"HTTPBearer":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RoleCreate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Role"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/roles/{role_id}":{"get":{"tags":["roles"],"summary":"Read Role","operationId":"read_role_roles__role_id__get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"role_id","in":"path","required":true,"schema":{"type":"integer","title":"Role Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Role"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"put":{"tags":["roles"],"summary":"Update Role","operationId":"update_role_roles__role_id__put","security":[{"HTTPBearer":[]}],"parameters":[{"name":"role_id","in":"path","required":true,"schema":{"type":"integer","title":"Role Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RoleCreate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Role"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["roles"],"summary":"Delete Role","operationId":"delete_role_roles__role_id__delete","security":[{"HTTPBearer":[]}],"parameters":[{"name":"role_id","in":"path","required":true,"schema":{"type":"integer","title":"Role Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/permissions/":{"get":{"tags":["permissions"],"summary":"Read Permissions","operationId":"read_permissions_permissions__get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"skip","in":"query","required":false,"schema":{"type":"integer","default":0,"title":"Skip"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","default":100,"title":"Limit"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Permission"},"title":"Response Read Permissions Permissions  Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"tags":["permissions"],"summary":"Create Permission","operationId":"create_permission_permissions__post","security":[{"HTTPBearer":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PermissionCreate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Permission"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/permissions/{permission_id}":{"get":{"tags":["permissions"],"summary":"Read Permission","operationId":"read_permission_permissions__permission_id__get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"permission_id","in":"path","required":true,"schema":{"type":"integer","title":"Permission Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Permission"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"put":{"tags":["permissions"],"summary":"Update Permission","operationId":"update_permission_permissions__permission_id__put","security":[{"HTTPBearer":[]}],"parameters":[{"name":"permission_id","in":"path","required":true,"schema":{"type":"integer","title":"Permission Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PermissionCreate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Permission"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["permissions"],"summary":"Delete Permission","operationId":"delete_permission_permissions__permission_id__delete","security":[{"HTTPBearer":[]}],"parameters":[{"name":"permission_id","in":"path","required":true,"schema":{"type":"integer","title":"Permission Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/sites/":{"get":{"tags":["sites"],"summary":"List Sites","operationId":"list_sites_sites__get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/SiteRead"},"type":"array","title":"Response List Sites Sites  Get"}}}}},"security":[{"HTTPBearer":[]}]},"post":{"tags":["sites"],"summary":"Create Site","operationId":"create_site_sites__post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SiteCreate"}}},"required":true},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SiteRead"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/sites/{site_id}":{"get":{"tags":["sites"],"summary":"Get Site","operationId":"get_site_sites__site_id__get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"site_id","in":"path","required":true,"schema":{"type":"integer","title":"Site Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SiteRead"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"put":{"tags":["sites"],"summary":"Update Site","operationId":"update_site_sites__site_id__put","security":[{"HTTPBearer":[]}],"parameters":[{"name":"site_id","in":"path","required":true,"schema":{"type":"integer","title":"Site Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SiteUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SiteRead"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["sites"],"summary":"Delete Site","operationId":"delete_site_sites__site_id__delete","security":[{"HTTPBearer":[]}],"parameters":[{"name":"site_id","in":"path","required":true,"schema":{"type":"integer","title":"Site Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/sites/locations/":{"get":{"tags":["sites"],"summary":"List Locations","operationId":"list_locations_sites_locations__get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/LocationRead"},"type":"array","title":"Response List Locations Sites Locations  Get"}}}}},"security":[{"HTTPBearer":[]}]}},"/sites/{site_id}/locations/":{"get":{"tags":["sites"],"summary":"List Site Locations","description":"Get all locations for a specific site","operationId":"list_site_locations_sites__site_id__locations__get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"site_id","in":"path","required":true,"schema":{"type":"integer","title":"Site Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/LocationRead"},"title":"Response List Site Locations Sites  Site Id  Locations  Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"tags":["sites"],"summary":"Create Location","operationId":"create_location_sites__site_id__locations__post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"site_id","in":"path","required":true,"schema":{"type":"integer","title":"Site Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/LocationCreate"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/LocationRead"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/sites/locations/{location_id}":{"get":{"tags":["sites"],"summary":"Get Location","operationId":"get_location_sites_locations__location_id__get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"location_id","in":"path","required":true,"schema":{"type":"integer","title":"Location Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/LocationRead"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"put":{"tags":["sites"],"summary":"Update Location","operationId":"update_location_sites_locations__location_id__put","security":[{"HTTPBearer":[]}],"parameters":[{"name":"location_id","in":"path","required":true,"schema":{"type":"integer","title":"Location Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/LocationUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/LocationRead"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["sites"],"summary":"Delete Location","operationId":"delete_location_sites_locations__location_id__delete","security":[{"HTTPBearer":[]}],"parameters":[{"name":"location_id","in":"path","required":true,"schema":{"type":"integer","title":"Location Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/sites/areas/":{"get":{"tags":["sites"],"summary":"List Areas","operationId":"list_areas_sites_areas__get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/AreaRead"},"type":"array","title":"Response List Areas Sites Areas  Get"}}}}},"security":[{"HTTPBearer":[]}]}},"/sites/{site_id}/areas/":{"get":{"tags":["sites"],"summary":"List Site Areas","description":"Get all areas for locations within a specific site","operationId":"list_site_areas_sites__site_id__areas__get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"site_id","in":"path","required":true,"schema":{"type":"integer","title":"Site Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/AreaRead"},"title":"Response List Site Areas Sites  Site Id  Areas  Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/sites/locations/{location_id}/areas/":{"get":{"tags":["sites"],"summary":"List Location Areas","description":"Get all areas for a specific location","operationId":"list_location_areas_sites_locations__location_id__areas__get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"location_id","in":"path","required":true,"schema":{"type":"integer","title":"Location Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/AreaRead"},"title":"Response List Location Areas Sites Locations  Location Id  Areas  Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"tags":["sites"],"summary":"Create Area","operationId":"create_area_sites_locations__location_id__areas__post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"location_id","in":"path","required":true,"schema":{"type":"integer","title":"Location Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AreaCreate"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AreaRead"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/sites/areas/{area_id}":{"get":{"tags":["sites"],"summary":"Get Area","operationId":"get_area_sites_areas__area_id__get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"area_id","in":"path","required":true,"schema":{"type":"integer","title":"Area Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AreaRead"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"put":{"tags":["sites"],"summary":"Update Area","operationId":"update_area_sites_areas__area_id__put","security":[{"HTTPBearer":[]}],"parameters":[{"name":"area_id","in":"path","required":true,"schema":{"type":"integer","title":"Area Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AreaUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AreaRead"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["sites"],"summary":"Delete Area","operationId":"delete_area_sites_areas__area_id__delete","security":[{"HTTPBearer":[]}],"parameters":[{"name":"area_id","in":"path","required":true,"schema":{"type":"integer","title":"Area Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/sites/{site_id}/users":{"get":{"tags":["sites"],"summary":"Get Site Users","description":"Get all users assigned to a specific site","operationId":"get_site_users_sites__site_id__users_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"site_id","in":"path","required":true,"schema":{"type":"integer","title":"Site Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/sites/{site_id}/users/{user_id}":{"post":{"tags":["sites"],"summary":"Assign User To Site","description":"Assign a user to a site","operationId":"assign_user_to_site_sites__site_id__users__user_id__post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"site_id","in":"path","required":true,"schema":{"type":"integer","title":"Site Id"}},{"name":"user_id","in":"path","required":true,"schema":{"type":"integer","title":"User Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["sites"],"summary":"Unassign User From Site","description":"Remove a user assignment from a site","operationId":"unassign_user_from_site_sites__site_id__users__user_id__delete","security":[{"HTTPBearer":[]}],"parameters":[{"name":"site_id","in":"path","required":true,"schema":{"type":"integer","title":"Site Id"}},{"name":"user_id","in":"path","required":true,"schema":{"type":"integer","title":"User Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/sites/{site_id}/available-users":{"get":{"tags":["sites"],"summary":"Get Available Users For Site","description":"Get all users that can be assigned to a site (not already assigned)","operationId":"get_available_users_for_site_sites__site_id__available_users_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"site_id","in":"path","required":true,"schema":{"type":"integer","title":"Site Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/sites/{site_id}/shifts":{"get":{"tags":["sites"],"summary":"Get Site Shifts","description":"Get shifts for a specific site\n\n**Required permissions:** shift:read_all or site access","operationId":"get_site_shifts_sites__site_id__shifts_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"site_id","in":"path","required":true,"schema":{"type":"integer","title":"Site Id"}},{"name":"date","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"description":"Filter shifts for specific date","title":"Date"},"description":"Filter shifts for specific date"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ShiftRead"},"title":"Response Get Site Shifts Sites  Site Id  Shifts Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/notifications/":{"get":{"tags":["notifications"],"summary":"List User Notifications","description":"Get notifications for the current user with filtering options.","operationId":"list_user_notifications_notifications__get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"unread_only","in":"query","required":false,"schema":{"type":"boolean","default":false,"title":"Unread Only"}},{"name":"priority","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Priority"}},{"name":"event_type","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Event Type"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":100,"default":50,"title":"Limit"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/NotificationRead"},"title":"Response List User Notifications Notifications  Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"tags":["notifications"],"summary":"Create Notification","description":"Create a new notification for a user.\n\nRequires admin or supervisor permissions.","operationId":"create_notification_notifications__post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"target_user_id","in":"query","required":true,"schema":{"type":"integer","title":"Target User Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/NotificationCreate"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/NotificationRead"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/notifications/all":{"get":{"tags":["notifications"],"summary":"List All Notifications","description":"Get all notifications (admin/supervisor only).\n\nAllows filtering by user, priority, event type, etc.","operationId":"list_all_notifications_notifications_all_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"user_id","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"User Id"}},{"name":"unread_only","in":"query","required":false,"schema":{"type":"boolean","default":false,"title":"Unread Only"}},{"name":"priority","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Priority"}},{"name":"event_type","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Event Type"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":500,"default":100,"title":"Limit"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/NotificationRead"},"title":"Response List All Notifications Notifications All Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/notifications/{notification_id}/read":{"put":{"tags":["notifications"],"summary":"Mark Notification As Read","description":"Mark a notification as read.","operationId":"mark_notification_as_read_notifications__notification_id__read_put","security":[{"HTTPBearer":[]}],"parameters":[{"name":"notification_id","in":"path","required":true,"schema":{"type":"integer","title":"Notification Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/NotificationRead"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/notifications/mark-all-read":{"put":{"tags":["notifications"],"summary":"Mark All Notifications As Read","description":"Mark all notifications as read for the current user.","operationId":"mark_all_notifications_as_read_notifications_mark_all_read_put","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"additionalProperties":{"type":"integer"},"type":"object","title":"Response Mark All Notifications As Read Notifications Mark All Read Put"}}}}},"security":[{"HTTPBearer":[]}]}},"/notifications/{notification_id}/delivery/confirm":{"post":{"tags":["notifications"],"summary":"Confirm Notification Delivery","description":"Confirm delivery of a notification.\n\nUsed by delivery services to track successful delivery.","operationId":"confirm_notification_delivery_notifications__notification_id__delivery_confirm_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"notification_id","in":"path","required":true,"schema":{"type":"integer","title":"Notification Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/NotificationDeliveryTrack"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":{"type":"string"},"title":"Response Confirm Notification Delivery Notifications  Notification Id  Delivery Confirm Post"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/notifications/stats":{"get":{"tags":["notifications"],"summary":"Get Notification Statistics","description":"Get notification statistics.\n\nIf user_id is provided, requires admin/supervisor permissions.","operationId":"get_notification_statistics_notifications_stats_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"user_id","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"User Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/NotificationStats"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/notifications/settings":{"get":{"tags":["notifications"],"summary":"Get Notification Settings","description":"Get notification settings for the current user.","operationId":"get_notification_settings_notifications_settings_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","title":"Response Get Notification Settings Notifications Settings Get"}}}}},"security":[{"HTTPBearer":[]}]},"put":{"tags":["notifications"],"summary":"Update Notification Settings","description":"Update notification settings for the current user.","operationId":"update_notification_settings_notifications_settings_put","requestBody":{"content":{"application/json":{"schema":{"type":"object","title":"Settings"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","title":"Response Update Notification Settings Notifications Settings Put"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/notifications/unread/count":{"get":{"tags":["notifications"],"summary":"Get Unread Count","description":"Get count of unread notifications for current user.","operationId":"get_unread_count_notifications_unread_count_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"additionalProperties":{"type":"integer"},"type":"object","title":"Response Get Unread Count Notifications Unread Count Get"}}}}},"security":[{"HTTPBearer":[]}]}},"/notifications/retry-failed":{"post":{"tags":["notifications"],"summary":"Retry Failed Deliveries","description":"Retry failed notification deliveries.\n\nRequires admin permissions.","operationId":"retry_failed_deliveries_notifications_retry_failed_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"max_age_hours","in":"query","required":false,"schema":{"type":"integer","maximum":168,"minimum":1,"default":24,"title":"Max Age Hours"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":{"type":"integer"},"title":"Response Retry Failed Deliveries Notifications Retry Failed Post"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/notifications/cleanup":{"delete":{"tags":["notifications"],"summary":"Cleanup Old Notifications","description":"Clean up old read notifications.\n\nRequires admin permissions.","operationId":"cleanup_old_notifications_notifications_cleanup_delete","security":[{"HTTPBearer":[]}],"parameters":[{"name":"days","in":"query","required":false,"schema":{"type":"integer","maximum":365,"minimum":7,"default":30,"title":"Days"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":{"type":"integer"},"title":"Response Cleanup Old Notifications Notifications Cleanup Delete"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/notifications/{notification_id}":{"delete":{"tags":["notifications"],"summary":"Delete Notification","description":"Delete a notification.","operationId":"delete_notification_notifications__notification_id__delete","security":[{"HTTPBearer":[]}],"parameters":[{"name":"notification_id","in":"path","required":true,"schema":{"type":"integer","title":"Notification Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":{"type":"string"},"title":"Response Delete Notification Notifications  Notification Id  Delete"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/notifications/test/real-time":{"post":{"tags":["notifications"],"summary":"Test Real Time Notification","description":"Test real-time notification delivery.\n\nRequires admin permissions.","operationId":"test_real_time_notification_notifications_test_real_time_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"user_id","in":"query","required":true,"schema":{"type":"integer","title":"User Id"}},{"name":"title","in":"query","required":true,"schema":{"type":"string","title":"Title"}},{"name":"message","in":"query","required":true,"schema":{"type":"string","title":"Message"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":{"type":"string"},"title":"Response Test Real Time Notification Notifications Test Real Time Post"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/analytics/dashboard/overview":{"get":{"tags":["analytics"],"summary":"Get Dashboard Overview Detailed","description":"Get dashboard overview analytics data.\n\nReturns overview metrics for the main dashboard including:\n- Active patrols count\n- Incident statistics  \n- Guard status\n- System health indicators","operationId":"get_dashboard_overview_detailed_analytics_dashboard_overview_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"site_id","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"description":"Filter by site","title":"Site Id"},"description":"Filter by site"},{"name":"time_range","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Time range (7d, 30d, 90d, 1y)","default":"30d","title":"Time Range"},"description":"Time range (7d, 30d, 90d, 1y)"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/analytics/":{"get":{"tags":["analytics"],"summary":"Analytics overview","description":"Get basic analytics overview with counts.","operationId":"analytics_overview_analytics__get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}},"security":[{"HTTPBearer":[]}]}},"/analytics/patrol-efficiency":{"get":{"tags":["analytics"],"summary":"Get Patrol Efficiency Report","description":"Generate comprehensive patrol efficiency metrics.\n\nReturns patrol completion rates, average durations, checkpoint compliance,\nand trend analysis for the specified period and filters.","operationId":"get_patrol_efficiency_report_analytics_patrol_efficiency_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"site_id","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"description":"Filter by specific site","title":"Site Id"},"description":"Filter by specific site"},{"name":"guard_id","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"description":"Filter by specific guard","title":"Guard Id"},"description":"Filter by specific guard"},{"name":"start_date","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"description":"Start date for analysis","title":"Start Date"},"description":"Start date for analysis"},{"name":"end_date","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"description":"End date for analysis","title":"End Date"},"description":"End date for analysis"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/analytics/incident-trends":{"get":{"tags":["analytics"],"summary":"Get Incident Trends Analysis","description":"Analyze incident trends over the specified period.\n\nReturns incident counts by severity, status, site, resolution metrics,\ntime series data, and actionable recommendations.","operationId":"get_incident_trends_analysis_analytics_incident_trends_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"period","in":"query","required":false,"schema":{"type":"string","pattern":"^(week|month|quarter|year)$","description":"Analysis period","default":"month","title":"Period"},"description":"Analysis period"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/analytics/guard-performance/{guard_id}":{"get":{"tags":["analytics"],"summary":"Get Guard Performance Metrics","description":"Calculate comprehensive performance metrics for a specific guard.\n\nReturns attendance metrics, task completion rates, incident response times,\ncheckpoint compliance, overall performance score, and improvement recommendations.","operationId":"get_guard_performance_metrics_analytics_guard_performance__guard_id__get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"guard_id","in":"path","required":true,"schema":{"type":"integer","title":"Guard Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/analytics/site-security/{site_id}":{"get":{"tags":["analytics"],"summary":"Get Site Security Score","description":"Generate comprehensive security score for a specific site.\n\nReturns overall security score, risk level, component scores (incident management,\npatrol coverage, response times, infrastructure, staffing), and security recommendations.","operationId":"get_site_security_score_analytics_site_security__site_id__get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"site_id","in":"path","required":true,"schema":{"type":"integer","title":"Site Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/analytics/dashboards":{"get":{"tags":["analytics"],"summary":"Get Available Dashboards","description":"Get list of available dashboard configurations.\n\nReturns predefined dashboard types and their descriptions for frontend rendering.","operationId":"get_available_dashboards_analytics_dashboards_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}},"security":[{"HTTPBearer":[]}]}},"/analytics/dashboards/{dashboard_type}":{"get":{"tags":["analytics"],"summary":"Get Dashboard Data","description":"Get dashboard data for the specified dashboard type.\n\nReturns structured data for dashboard widgets including charts, metrics,\nand summary information formatted for frontend consumption.","operationId":"get_dashboard_data_analytics_dashboards__dashboard_type__get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"dashboard_type","in":"path","required":true,"schema":{"type":"string","title":"Dashboard Type"}},{"name":"site_id","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"description":"Filter by site","title":"Site Id"},"description":"Filter by site"},{"name":"time_range","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Time range (7d, 30d, 90d, 1y)","default":"30d","title":"Time Range"},"description":"Time range (7d, 30d, 90d, 1y)"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/analytics/reports/generate":{"post":{"tags":["analytics"],"summary":"Generate Custom Report","description":"Generate a custom report based on the provided configuration.\n\nAccepts report type, filters, format preferences, and generates\nthe requested report for download or scheduling.","operationId":"generate_custom_report_analytics_reports_generate_post","requestBody":{"content":{"application/json":{"schema":{"type":"object","title":"Report Config"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/analytics/reports/export/pdf":{"post":{"tags":["analytics"],"summary":"Export Report As Pdf","description":"Export a report as PDF for download.\n\nGenerates the requested report data and converts it to PDF format\nfor immediate download.","operationId":"export_report_as_pdf_analytics_reports_export_pdf_post","requestBody":{"content":{"application/json":{"schema":{"type":"object","title":"Report Config"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/analytics/reports/export/csv":{"post":{"tags":["analytics"],"summary":"Export Data As Csv","description":"Export data as CSV for download.\n\nExports raw data in CSV format based on the specified configuration\nincluding data type, filters, and date ranges.","operationId":"export_data_as_csv_analytics_reports_export_csv_post","requestBody":{"content":{"application/json":{"schema":{"type":"object","title":"Export Config"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/analytics/reports/schedule":{"post":{"tags":["analytics"],"summary":"Schedule Recurring Report","description":"Schedule a recurring report.\n\nSets up automated report generation and delivery based on the specified\nfrequency, recipients, and report configuration.","operationId":"schedule_recurring_report_analytics_reports_schedule_post","requestBody":{"content":{"application/json":{"schema":{"type":"object","title":"Schedule Config"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/analytics/issues":{"get":{"tags":["analytics"],"summary":"Get Issue Analytics","description":"Get issue data for analytics/reporting (legacy endpoint).","operationId":"get_issue_analytics_analytics_issues_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"site_id","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Site Id"}},{"name":"from_date","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"From Date"}},{"name":"to_date","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"To Date"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/IssueRead"},"title":"Response Get Issue Analytics Analytics Issues Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/analytics/issues/by-site":{"get":{"tags":["analytics"],"summary":"Issue Count By Site","description":"Get issue count grouped by site (legacy endpoint).","operationId":"issue_count_by_site_analytics_issues_by_site_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}},"security":[{"HTTPBearer":[]}]}},"/dashboards/":{"get":{"tags":["dashboards"],"summary":"Get User Dashboards","description":"Get all dashboards accessible to the current user.\n\nReturns user's own dashboards and optionally public dashboards.","operationId":"get_user_dashboards_dashboards__get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"include_public","in":"query","required":false,"schema":{"type":"boolean","description":"Include public dashboards","default":true,"title":"Include Public"},"description":"Include public dashboards"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/DashboardListResponse"},"title":"Response Get User Dashboards Dashboards  Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"tags":["dashboards"],"summary":"Create Dashboard","description":"Create a new dashboard with optional initial widgets.\n\nCreates a new dashboard configuration and optionally adds initial widgets\nbased on the provided configuration.","operationId":"create_dashboard_dashboards__post","security":[{"HTTPBearer":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/DashboardCreate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DashboardResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/dashboards/{dashboard_id}":{"get":{"tags":["dashboards"],"summary":"Get Dashboard","description":"Get a specific dashboard by ID.\n\nReturns dashboard configuration and all associated widgets if the user\nhas access to the dashboard.","operationId":"get_dashboard_dashboards__dashboard_id__get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"dashboard_id","in":"path","required":true,"schema":{"type":"integer","title":"Dashboard Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DashboardResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"put":{"tags":["dashboards"],"summary":"Update Dashboard","description":"Update a dashboard configuration.\n\nUpdates dashboard metadata, configuration, layout, or filters.\nOnly the dashboard owner can update the dashboard.","operationId":"update_dashboard_dashboards__dashboard_id__put","security":[{"HTTPBearer":[]}],"parameters":[{"name":"dashboard_id","in":"path","required":true,"schema":{"type":"integer","title":"Dashboard Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/DashboardUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DashboardResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["dashboards"],"summary":"Delete Dashboard","description":"Delete a dashboard.\n\nPermanently deletes the dashboard and all associated widgets.\nOnly the dashboard owner can delete the dashboard.","operationId":"delete_dashboard_dashboards__dashboard_id__delete","security":[{"HTTPBearer":[]}],"parameters":[{"name":"dashboard_id","in":"path","required":true,"schema":{"type":"integer","title":"Dashboard Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/dashboards/{dashboard_id}/widgets":{"post":{"tags":["dashboards"],"summary":"Add Widget To Dashboard","description":"Add a widget to a dashboard.\n\nCreates a new widget with the specified configuration and adds it\nto the dashboard. Only the dashboard owner can add widgets.","operationId":"add_widget_to_dashboard_dashboards__dashboard_id__widgets_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"dashboard_id","in":"path","required":true,"schema":{"type":"integer","title":"Dashboard Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/DashboardWidgetCreate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DashboardWidgetResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/dashboards/widgets/{widget_id}":{"put":{"tags":["dashboards"],"summary":"Update Widget","description":"Update a dashboard widget.\n\nUpdates widget configuration, position, or display options.\nOnly the dashboard owner can update widgets.","operationId":"update_widget_dashboards_widgets__widget_id__put","security":[{"HTTPBearer":[]}],"parameters":[{"name":"widget_id","in":"path","required":true,"schema":{"type":"integer","title":"Widget Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/DashboardWidgetUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DashboardWidgetResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["dashboards"],"summary":"Delete Widget","description":"Delete a dashboard widget.\n\nPermanently removes the widget from the dashboard.\nOnly the dashboard owner can delete widgets.","operationId":"delete_widget_dashboards_widgets__widget_id__delete","security":[{"HTTPBearer":[]}],"parameters":[{"name":"widget_id","in":"path","required":true,"schema":{"type":"integer","title":"Widget Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/dashboards/widgets/{widget_id}/data":{"get":{"tags":["dashboards"],"summary":"Get Widget Data","description":"Get data for a specific widget.\n\nRetrieves and generates the current data for the widget based on\nits configuration and data source settings.","operationId":"get_widget_data_dashboards_widgets__widget_id__data_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"widget_id","in":"path","required":true,"schema":{"type":"integer","title":"Widget Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/WidgetDataResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/dashboards/templates/":{"get":{"tags":["dashboards"],"summary":"Get Dashboard Templates","description":"Get available dashboard templates.\n\nReturns predefined dashboard templates that users can use as starting\npoints for creating their own dashboards.","operationId":"get_dashboard_templates_dashboards_templates__get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/DashboardTemplate"},"type":"array","title":"Response Get Dashboard Templates Dashboards Templates  Get"}}}}},"security":[{"HTTPBearer":[]}]}},"/dashboards/{dashboard_id}/clone":{"post":{"tags":["dashboards"],"summary":"Clone Dashboard","description":"Clone an existing dashboard.\n\nCreates a copy of the specified dashboard with all its widgets.\nThe user must have access to the original dashboard.","operationId":"clone_dashboard_dashboards__dashboard_id__clone_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"dashboard_id","in":"path","required":true,"schema":{"type":"integer","title":"Dashboard Id"}},{"name":"new_name","in":"query","required":true,"schema":{"type":"string","description":"Name for the cloned dashboard","title":"New Name"},"description":"Name for the cloned dashboard"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DashboardResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/dashboards/from-template":{"post":{"tags":["dashboards"],"summary":"Create Dashboard From Template","description":"Create a dashboard from a predefined template.\n\nCreates a new dashboard using one of the predefined templates as a base,\nincluding all the template's widgets and configuration.","operationId":"create_dashboard_from_template_dashboards_from_template_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"template_name","in":"query","required":true,"schema":{"type":"string","title":"Template Name"}},{"name":"dashboard_name","in":"query","required":true,"schema":{"type":"string","title":"Dashboard Name"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DashboardResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/dashboards/{dashboard_id}/export":{"get":{"tags":["dashboards"],"summary":"Export Dashboard","description":"Export dashboard configuration.\n\nExports the dashboard configuration in the specified format for backup\nor sharing purposes.","operationId":"export_dashboard_dashboards__dashboard_id__export_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"dashboard_id","in":"path","required":true,"schema":{"type":"integer","title":"Dashboard Id"}},{"name":"format","in":"query","required":false,"schema":{"type":"string","description":"Export format (json, pdf)","default":"json","title":"Format"},"description":"Export format (json, pdf)"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/dashboards/{dashboard_id}/share":{"post":{"tags":["dashboards"],"summary":"Share Dashboard","description":"Share a dashboard by making it public or private.\n\nUpdates the dashboard's visibility settings. Only the dashboard owner\ncan change sharing settings.","operationId":"share_dashboard_dashboards__dashboard_id__share_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"dashboard_id","in":"path","required":true,"schema":{"type":"integer","title":"Dashboard Id"}},{"name":"make_public","in":"query","required":false,"schema":{"type":"boolean","description":"Make dashboard public","default":true,"title":"Make Public"},"description":"Make dashboard public"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/integrations/webhooks/register":{"post":{"tags":["integrations"],"summary":"Register Webhook","description":"Register a new webhook for external integration.\n\nAllows external systems to register webhook endpoints to receive\nreal-time notifications about events in the PatrolShield system.","operationId":"register_webhook_integrations_webhooks_register_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/WebhookCreate"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/WebhookRead"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/integrations/webhooks/":{"get":{"tags":["integrations"],"summary":"List Webhooks","description":"List all registered webhooks.\n\nReturns a list of all webhook registrations with their current status,\nconfiguration, and basic statistics.","operationId":"list_webhooks_integrations_webhooks__get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"active_only","in":"query","required":false,"schema":{"type":"boolean","description":"Return only active webhooks","default":false,"title":"Active Only"},"description":"Return only active webhooks"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/WebhookList"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/integrations/webhooks/{webhook_id}":{"get":{"tags":["integrations"],"summary":"Get Webhook","description":"Get details of a specific webhook.\n\nReturns detailed information about a webhook including configuration,\nstatus, and delivery statistics.","operationId":"get_webhook_integrations_webhooks__webhook_id__get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"webhook_id","in":"path","required":true,"schema":{"type":"integer","title":"Webhook Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/WebhookRead"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"put":{"tags":["integrations"],"summary":"Update Webhook","description":"Update webhook configuration.\n\nAllows modification of webhook URL, events, timeout settings,\nand other configuration parameters.","operationId":"update_webhook_integrations_webhooks__webhook_id__put","security":[{"HTTPBearer":[]}],"parameters":[{"name":"webhook_id","in":"path","required":true,"schema":{"type":"integer","title":"Webhook Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/WebhookUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/WebhookRead"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["integrations"],"summary":"Delete Webhook","description":"Remove a webhook registration.\n\nDeactivates the webhook and stops sending events to the endpoint.\nHistorical delivery data is preserved for audit purposes.","operationId":"delete_webhook_integrations_webhooks__webhook_id__delete","security":[{"HTTPBearer":[]}],"parameters":[{"name":"webhook_id","in":"path","required":true,"schema":{"type":"integer","title":"Webhook Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/integrations/webhooks/{webhook_id}/health":{"get":{"tags":["integrations"],"summary":"Get Webhook Health","description":"Get health metrics for a specific webhook.\n\nReturns delivery success rates, response times, and health status\nfor the specified time period.","operationId":"get_webhook_health_integrations_webhooks__webhook_id__health_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"webhook_id","in":"path","required":true,"schema":{"type":"integer","title":"Webhook Id"}},{"name":"days","in":"query","required":false,"schema":{"type":"integer","maximum":90,"minimum":1,"description":"Number of days to analyze","default":7,"title":"Days"},"description":"Number of days to analyze"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/WebhookHealth"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/integrations/webhooks/test":{"post":{"tags":["integrations"],"summary":"Test Webhook","description":"Test a webhook by sending a test event.\n\nSends a test payload to the webhook endpoint to verify\nconnectivity and proper configuration.","operationId":"test_webhook_integrations_webhooks_test_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"webhook_id","in":"query","required":true,"schema":{"type":"integer","title":"Webhook Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/WebhookEventTrigger"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/WebhookDeliveryResult"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/integrations/webhooks/retry":{"post":{"tags":["integrations"],"summary":"Retry Failed Webhooks","description":"Retry failed webhook deliveries.\n\nProcesses webhook deliveries that failed and are due for retry\nbased on their retry configuration.","operationId":"retry_failed_webhooks_integrations_webhooks_retry_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"max_retries","in":"query","required":false,"schema":{"type":"integer","maximum":1000,"minimum":1,"description":"Maximum retries to process","default":100,"title":"Max Retries"},"description":"Maximum retries to process"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/integrations/status":{"get":{"tags":["integrations"],"summary":"Get Integration Status","description":"Get overall integration system health status.\n\nReturns system-wide metrics including webhook counts,\nrecent delivery statistics, and overall health indicators.","operationId":"get_integration_status_integrations_status_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/IntegrationStatus"}}}}},"security":[{"HTTPBearer":[]}]}},"/integrations/events":{"get":{"tags":["integrations"],"summary":"List Available Events","description":"List all available webhook event types.\n\nReturns a list of all event types that can be subscribed to\nvia webhooks, along with descriptions and example payloads.","operationId":"list_available_events_integrations_events_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}},"security":[{"HTTPBearer":[]}]}},"/integrations/hr/sync":{"post":{"tags":["integrations"],"summary":"Sync Hr System","description":"Sync data with HR system.\n\nProcesses employee data synchronization with external HR systems,\nupdating user profiles, schedules, and organizational information.","operationId":"sync_hr_system_integrations_hr_sync_post","requestBody":{"content":{"application/json":{"schema":{"type":"object","title":"Sync Data"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/integrations/hr/status":{"get":{"tags":["integrations"],"summary":"Get Hr Integration Status","description":"Get HR system integration status.\n\nReturns the current status of HR system connectivity,\nlast sync time, and any integration issues.","operationId":"get_hr_integration_status_integrations_hr_status_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}},"security":[{"HTTPBearer":[]}]}},"/messages/":{"get":{"tags":["messages"],"summary":"Get Messages","description":"Get messages for the current user.\nReturns messages where:\n- User is the recipient, OR\n- Message is sent to a group the user belongs to, OR  \n- Message is an SOS message (visible to all)","operationId":"get_messages_messages__get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/MessageOut"},"type":"array","title":"Response Get Messages Messages  Get"}}}}},"security":[{"HTTPBearer":[]}]},"post":{"tags":["messages"],"summary":"Send Message","operationId":"send_message_messages__post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/MessageCreate"}}},"required":true},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MessageOut"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/messages/{message_id}":{"get":{"tags":["messages"],"summary":"Get Message","description":"Get a specific message by ID if user has access to it.","operationId":"get_message_messages__message_id__get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"message_id","in":"path","required":true,"schema":{"type":"integer","title":"Message Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MessageOut"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["messages"],"summary":"Delete Message","description":"Delete a message. Only sender can delete their own messages.","operationId":"delete_message_messages__message_id__delete","security":[{"HTTPBearer":[]}],"parameters":[{"name":"message_id","in":"path","required":true,"schema":{"type":"integer","title":"Message Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/messages/{message_id}/read":{"put":{"tags":["messages"],"summary":"Mark Message As Read","description":"Mark a message as read by the current user.","operationId":"mark_message_as_read_messages__message_id__read_put","security":[{"HTTPBearer":[]}],"parameters":[{"name":"message_id","in":"path","required":true,"schema":{"type":"integer","title":"Message Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MessageOut"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/messages/sent/":{"get":{"tags":["messages"],"summary":"Get Sent Messages","description":"Get messages sent by the current user.","operationId":"get_sent_messages_messages_sent__get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"skip","in":"query","required":false,"schema":{"type":"integer","default":0,"title":"Skip"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","default":100,"title":"Limit"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/MessageOut"},"title":"Response Get Sent Messages Messages Sent  Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/messages/unread/":{"get":{"tags":["messages"],"summary":"Get Unread Messages","description":"Get unread messages for the current user.","operationId":"get_unread_messages_messages_unread__get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/MessageOut"},"type":"array","title":"Response Get Unread Messages Messages Unread  Get"}}}}},"security":[{"HTTPBearer":[]}]}},"/messages/sos/":{"get":{"tags":["messages"],"summary":"Get Sos Messages","description":"Get all SOS messages (emergency messages visible to all users).","operationId":"get_sos_messages_messages_sos__get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"skip","in":"query","required":false,"schema":{"type":"integer","default":0,"title":"Skip"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","default":100,"title":"Limit"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/MessageOut"},"title":"Response Get Sos Messages Messages Sos  Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/messages/voice-call":{"post":{"tags":["messages"],"summary":"Initiate Voice Message Call","description":"Initiate a voice call for message or SOS purposes.\n\nBody should contain:\n- target_users: List of user IDs to call\n- call_type: \"message\" or \"sos\" \n- message: Optional text message to accompany the voice call","operationId":"initiate_voice_message_call_messages_voice_call_post","requestBody":{"content":{"application/json":{"schema":{"type":"object","title":"Voice Data"}}},"required":true},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/messages/voice-users/":{"get":{"tags":["messages"],"summary":"Get Available Voice Users","description":"Get list of users currently available for voice communication (online in walkie talkie).","operationId":"get_available_voice_users_messages_voice_users__get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"items":{"type":"object"},"type":"array","title":"Response Get Available Voice Users Messages Voice Users  Get"}}}}},"security":[{"HTTPBearer":[]}]}},"/tasks/":{"post":{"tags":["tasks"],"summary":"Create Task","operationId":"create_task_tasks__post","security":[{"HTTPBearer":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TaskCreate"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TaskOut"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"get":{"tags":["tasks"],"summary":"List Tasks","operationId":"list_tasks_tasks__get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"site_id","in":"query","required":false,"schema":{"type":"integer","title":"Site Id"}},{"name":"task_type","in":"query","required":false,"schema":{"type":"string","title":"Task Type"}},{"name":"status","in":"query","required":false,"schema":{"type":"string","title":"Status"}},{"name":"assigned_to","in":"query","required":false,"schema":{"type":"integer","title":"Assigned To"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/TaskOut"},"title":"Response List Tasks Tasks  Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/tasks/patrol":{"get":{"tags":["tasks"],"summary":"List Patrol Tasks","description":"Get patrol-type tasks with enhanced information for backward compatibility","operationId":"list_patrol_tasks_tasks_patrol_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"site_id","in":"query","required":false,"schema":{"type":"integer","title":"Site Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/TaskOut"},"title":"Response List Patrol Tasks Tasks Patrol Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"tags":["tasks"],"summary":"Create Patrol Task","description":"Create a patrol-type task","operationId":"create_patrol_task_tasks_patrol_post","security":[{"HTTPBearer":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PatrolTaskCreate"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TaskOut"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/tasks/{task_id}":{"get":{"tags":["tasks"],"summary":"Get Task","operationId":"get_task_tasks__task_id__get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"task_id","in":"path","required":true,"schema":{"type":"integer","title":"Task Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TaskOut"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"put":{"tags":["tasks"],"summary":"Update Task","operationId":"update_task_tasks__task_id__put","security":[{"HTTPBearer":[]}],"parameters":[{"name":"task_id","in":"path","required":true,"schema":{"type":"integer","title":"Task Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TaskUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TaskOut"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["tasks"],"summary":"Delete Task","operationId":"delete_task_tasks__task_id__delete","security":[{"HTTPBearer":[]}],"parameters":[{"name":"task_id","in":"path","required":true,"schema":{"type":"integer","title":"Task Id"}}],"responses":{"204":{"description":"Successful Response"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/tasks/{task_id}/checkpoints/{checkpoint_id}/visit":{"post":{"tags":["tasks"],"summary":"Record Checkpoint Visit","description":"Record a checkpoint visit during task execution","operationId":"record_checkpoint_visit_tasks__task_id__checkpoints__checkpoint_id__visit_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"task_id","in":"path","required":true,"schema":{"type":"integer","title":"Task Id"}},{"name":"checkpoint_id","in":"path","required":true,"schema":{"type":"integer","title":"Checkpoint Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TaskCheckpointVisitCreate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TaskCheckpointVisitRead"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/tasks/{task_id}/progress":{"get":{"tags":["tasks"],"summary":"Get Task Progress","description":"Get detailed progress information for a task","operationId":"get_task_progress_tasks__task_id__progress_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"task_id","in":"path","required":true,"schema":{"type":"integer","title":"Task Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/visitors/":{"get":{"tags":["visitors"],"summary":"List Visitors","description":"List all visitors.","operationId":"list_visitors_visitors__get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/VisitorOut"},"type":"array","title":"Response List Visitors Visitors  Get"}}}}},"security":[{"HTTPBearer":[]}]},"post":{"tags":["visitors"],"summary":"Create Visitor","description":"Create a new visitor record.","operationId":"create_visitor_visitors__post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/VisitorCreate"}}},"required":true},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/VisitorOut"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/visitors/{visitor_id}":{"get":{"tags":["visitors"],"summary":"Get Visitor","description":"Get a specific visitor by ID.","operationId":"get_visitor_visitors__visitor_id__get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"visitor_id","in":"path","required":true,"schema":{"type":"integer","title":"Visitor Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/VisitorOut"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"put":{"tags":["visitors"],"summary":"Update Visitor","description":"Update visitor information.","operationId":"update_visitor_visitors__visitor_id__put","security":[{"HTTPBearer":[]}],"parameters":[{"name":"visitor_id","in":"path","required":true,"schema":{"type":"integer","title":"Visitor Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/VisitorUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/VisitorOut"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["visitors"],"summary":"Delete Visitor","description":"Delete a visitor record.","operationId":"delete_visitor_visitors__visitor_id__delete","security":[{"HTTPBearer":[]}],"parameters":[{"name":"visitor_id","in":"path","required":true,"schema":{"type":"integer","title":"Visitor Id"}}],"responses":{"204":{"description":"Successful Response"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/checkpoints/statistics":{"get":{"tags":["checkpoints"],"summary":"Get Checkpoint Statistics Detailed","description":"Get detailed checkpoint usage statistics.","operationId":"get_checkpoint_statistics_detailed_checkpoints_statistics_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"site_id","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Site Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","title":"Response Get Checkpoint Statistics Detailed Checkpoints Statistics Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/checkpoints/":{"get":{"tags":["checkpoints"],"summary":"Get Checkpoints","description":"Get all checkpoints with optional filtering.","operationId":"get_checkpoints_checkpoints__get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"skip","in":"query","required":false,"schema":{"type":"integer","minimum":0,"default":0,"title":"Skip"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":1000,"minimum":1,"default":100,"title":"Limit"}},{"name":"site_id","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Site Id"}},{"name":"is_active","in":"query","required":false,"schema":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Is Active"}},{"name":"order_by_sequence","in":"query","required":false,"schema":{"type":"boolean","default":true,"title":"Order By Sequence"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/CheckpointRead"},"title":"Response Get Checkpoints Checkpoints  Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"tags":["checkpoints"],"summary":"Create Checkpoint","description":"Create a new checkpoint.","operationId":"create_checkpoint_checkpoints__post","security":[{"HTTPBearer":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CheckpointCreate"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CheckpointRead"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/checkpoints/{checkpoint_id}":{"get":{"tags":["checkpoints"],"summary":"Get Checkpoint","description":"Get a specific checkpoint by ID.","operationId":"get_checkpoint_checkpoints__checkpoint_id__get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"checkpoint_id","in":"path","required":true,"schema":{"type":"integer","title":"Checkpoint Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CheckpointRead"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"put":{"tags":["checkpoints"],"summary":"Update Checkpoint","description":"Update an existing checkpoint.","operationId":"update_checkpoint_checkpoints__checkpoint_id__put","security":[{"HTTPBearer":[]}],"parameters":[{"name":"checkpoint_id","in":"path","required":true,"schema":{"type":"integer","title":"Checkpoint Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CheckpointUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CheckpointRead"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["checkpoints"],"summary":"Delete Checkpoint","description":"Delete a checkpoint.","operationId":"delete_checkpoint_checkpoints__checkpoint_id__delete","security":[{"HTTPBearer":[]}],"parameters":[{"name":"checkpoint_id","in":"path","required":true,"schema":{"type":"integer","title":"Checkpoint Id"}}],"responses":{"204":{"description":"Successful Response"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/checkpoints/{checkpoint_id}/visit":{"post":{"tags":["checkpoints"],"summary":"Visit Checkpoint","description":"Record a visit to a checkpoint.","operationId":"visit_checkpoint_checkpoints__checkpoint_id__visit_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"checkpoint_id","in":"path","required":true,"schema":{"type":"integer","title":"Checkpoint Id"}},{"name":"latitude","in":"query","required":false,"schema":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Latitude"}},{"name":"longitude","in":"query","required":false,"schema":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Longitude"}},{"name":"notes","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Notes"}},{"name":"patrol_id","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Patrol Id"}},{"name":"scan_method","in":"query","required":false,"schema":{"allOf":[{"$ref":"#/components/schemas/ScanMethod"}],"default":"manual","title":"Scan Method"}}],"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CheckpointVisitRead"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/checkpoints/{checkpoint_id}/visits":{"get":{"tags":["checkpoints"],"summary":"Get Checkpoint Visits","description":"Get all visits for a specific checkpoint.","operationId":"get_checkpoint_visits_checkpoints__checkpoint_id__visits_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"checkpoint_id","in":"path","required":true,"schema":{"type":"integer","title":"Checkpoint Id"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":200,"minimum":1,"default":50,"title":"Limit"}},{"name":"include_photos","in":"query","required":false,"schema":{"type":"boolean","default":false,"title":"Include Photos"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/CheckpointVisitRead"},"title":"Response Get Checkpoint Visits Checkpoints  Checkpoint Id  Visits Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/checkpoints/scan/{scan_code}/visit":{"post":{"tags":["checkpoints"],"summary":"Scan And Visit","description":"Record a visit to a checkpoint via QR code or NFC tag scan.","operationId":"scan_and_visit_checkpoints_scan__scan_code__visit_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"scan_code","in":"path","required":true,"schema":{"type":"string","title":"Scan Code"}},{"name":"notes","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Notes"}},{"name":"latitude","in":"query","required":false,"schema":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Latitude"}},{"name":"longitude","in":"query","required":false,"schema":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Longitude"}},{"name":"patrol_id","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Patrol Id"}}],"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CheckpointVisitRead"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/checkpoints/scan/{scan_code}":{"get":{"tags":["checkpoints"],"summary":"Get Checkpoint By Scan","description":"Get checkpoint information by scan code.","operationId":"get_checkpoint_by_scan_checkpoints_scan__scan_code__get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"scan_code","in":"path","required":true,"schema":{"type":"string","title":"Scan Code"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CheckpointRead"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/checkpoints/visits/{visit_id}/photos":{"post":{"tags":["checkpoints"],"summary":"Add Photo To Visit","description":"Add a photo/evidence to a checkpoint visit.","operationId":"add_photo_to_visit_checkpoints_visits__visit_id__photos_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"visit_id","in":"path","required":true,"schema":{"type":"integer","title":"Visit Id"}},{"name":"caption","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Caption"}}],"requestBody":{"required":true,"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Body_add_photo_to_visit_checkpoints_visits__visit_id__photos_post"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CheckpointPhotoRead"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/checkpoints/sites/{site_id}/validation":{"get":{"tags":["checkpoints"],"summary":"Validate Site Checkpoints","description":"Validate checkpoint sequence completion for a patrol.","operationId":"validate_site_checkpoints_checkpoints_sites__site_id__validation_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"site_id","in":"path","required":true,"schema":{"type":"integer","title":"Site Id"}},{"name":"patrol_id","in":"query","required":true,"schema":{"type":"integer","title":"Patrol Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","title":"Response Validate Site Checkpoints Checkpoints Sites  Site Id  Validation Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/checkpoints/patrols/{patrol_id}/visits":{"get":{"tags":["checkpoints"],"summary":"Get Patrol Checkpoint Visits","description":"Get all checkpoint visits for a specific patrol.","operationId":"get_patrol_checkpoint_visits_checkpoints_patrols__patrol_id__visits_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"patrol_id","in":"path","required":true,"schema":{"type":"integer","title":"Patrol Id"}},{"name":"include_photos","in":"query","required":false,"schema":{"type":"boolean","default":false,"title":"Include Photos"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/CheckpointVisitRead"},"title":"Response Get Patrol Checkpoint Visits Checkpoints Patrols  Patrol Id  Visits Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/checkpoints/sites/{site_id}/sequence":{"put":{"tags":["checkpoints"],"summary":"Update Checkpoint Sequence","description":"Update checkpoint order sequence for a site.","operationId":"update_checkpoint_sequence_checkpoints_sites__site_id__sequence_put","security":[{"HTTPBearer":[]}],"parameters":[{"name":"site_id","in":"path","required":true,"schema":{"type":"integer","title":"Site Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"array","items":{"type":"object"},"title":"Sequence Updates"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/CheckpointRead"},"title":"Response Update Checkpoint Sequence Checkpoints Sites  Site Id  Sequence Put"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/checkpoints/optimize-route":{"post":{"tags":["checkpoints"],"summary":"Optimize Route","description":"Optimize the order of checkpoints for efficient patrol routing.","operationId":"optimize_route_checkpoints_optimize_route_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RouteOptimizationRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RouteOptimizationResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/checkpoints/analyze-deviations":{"post":{"tags":["checkpoints"],"summary":"Analyze Route Deviations","description":"Analyze route deviations for a completed patrol.","operationId":"analyze_route_deviations_checkpoints_analyze_deviations_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RouteDeviationRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RouteDeviationResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/checkpoints/sites/{site_id}/route-efficiency":{"get":{"tags":["checkpoints"],"summary":"Analyze Route Efficiency","description":"Analyze route efficiency for a site and suggest optimizations.","operationId":"analyze_route_efficiency_checkpoints_sites__site_id__route_efficiency_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"site_id","in":"path","required":true,"schema":{"type":"integer","title":"Site Id"}},{"name":"start_date","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Start date (YYYY-MM-DD)","title":"Start Date"},"description":"Start date (YYYY-MM-DD)"},{"name":"end_date","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"End date (YYYY-MM-DD)","title":"End Date"},"description":"End date (YYYY-MM-DD)"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RouteEfficiencyResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/checkpoints/patrols/{patrol_id}/performance":{"get":{"tags":["checkpoints"],"summary":"Get Patrol Performance Metrics","description":"Get performance metrics for a completed patrol route.","operationId":"get_patrol_performance_metrics_checkpoints_patrols__patrol_id__performance_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"patrol_id","in":"path","required":true,"schema":{"type":"integer","title":"Patrol Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RoutePerformanceResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/checkpoints/calculate-duration":{"post":{"tags":["checkpoints"],"summary":"Calculate Route Duration","description":"Calculate estimated duration for a list of checkpoints.","operationId":"calculate_route_duration_checkpoints_calculate_duration_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"walking_speed_kmh","in":"query","required":false,"schema":{"type":"number","description":"Walking speed in km/h","default":4.0,"title":"Walking Speed Kmh"},"description":"Walking speed in km/h"},{"name":"checkpoint_time_minutes","in":"query","required":false,"schema":{"type":"number","description":"Time per checkpoint in minutes","default":3.0,"title":"Checkpoint Time Minutes"},"description":"Time per checkpoint in minutes"}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"array","items":{"type":"integer"},"title":"Checkpoint Ids"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","title":"Response Calculate Route Duration Checkpoints Calculate Duration Post"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/checkpoints/sites/{site_id}/optimize-sequence":{"put":{"tags":["checkpoints"],"summary":"Optimize And Update Sequence","description":"Optimize checkpoint sequence for a site and update the order in the database.","operationId":"optimize_and_update_sequence_checkpoints_sites__site_id__optimize_sequence_put","security":[{"HTTPBearer":[]}],"parameters":[{"name":"site_id","in":"path","required":true,"schema":{"type":"integer","title":"Site Id"}},{"name":"start_latitude","in":"query","required":false,"schema":{"anyOf":[{"type":"number"},{"type":"null"}],"description":"Starting position latitude","title":"Start Latitude"},"description":"Starting position latitude"},{"name":"start_longitude","in":"query","required":false,"schema":{"anyOf":[{"type":"number"},{"type":"null"}],"description":"Starting position longitude","title":"Start Longitude"},"description":"Starting position longitude"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/CheckpointRead"},"title":"Response Optimize And Update Sequence Checkpoints Sites  Site Id  Optimize Sequence Put"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/issues/":{"get":{"tags":["issues"],"summary":"Get Issues","description":"Get all issues with optional filtering.","operationId":"get_issues_issues__get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"skip","in":"query","required":false,"schema":{"type":"integer","minimum":0,"default":0,"title":"Skip"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":1000,"minimum":1,"default":100,"title":"Limit"}},{"name":"status","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Status"}},{"name":"severity","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Severity"}},{"name":"site_id","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Site Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/IssueRead"},"title":"Response Get Issues Issues  Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"tags":["issues"],"summary":"Create Issue","description":"Create a new issue.","operationId":"create_issue_issues__post","security":[{"HTTPBearer":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/IssueCreate"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/IssueRead"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/issues/{issue_id}":{"get":{"tags":["issues"],"summary":"Get Issue","description":"Get a specific issue by ID.","operationId":"get_issue_issues__issue_id__get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"issue_id","in":"path","required":true,"schema":{"type":"integer","title":"Issue Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/IssueRead"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"put":{"tags":["issues"],"summary":"Update Issue","description":"Update an existing issue.","operationId":"update_issue_issues__issue_id__put","security":[{"HTTPBearer":[]}],"parameters":[{"name":"issue_id","in":"path","required":true,"schema":{"type":"integer","title":"Issue Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/IssueUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/IssueRead"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["issues"],"summary":"Delete Issue","description":"Delete an issue.","operationId":"delete_issue_issues__issue_id__delete","security":[{"HTTPBearer":[]}],"parameters":[{"name":"issue_id","in":"path","required":true,"schema":{"type":"integer","title":"Issue Id"}}],"responses":{"204":{"description":"Successful Response"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/issues/{issue_id}/evidence":{"get":{"tags":["issues"],"summary":"Get Issue Evidence","description":"Get all evidence for a specific issue.","operationId":"get_issue_evidence_issues__issue_id__evidence_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"issue_id","in":"path","required":true,"schema":{"type":"integer","title":"Issue Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/IssueEvidenceRead"},"title":"Response Get Issue Evidence Issues  Issue Id  Evidence Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"tags":["issues"],"summary":"Upload Issue Evidence","description":"Upload evidence file for an issue.","operationId":"upload_issue_evidence_issues__issue_id__evidence_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"issue_id","in":"path","required":true,"schema":{"type":"integer","title":"Issue Id"}},{"name":"description","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"}}],"requestBody":{"required":true,"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Body_upload_issue_evidence_issues__issue_id__evidence_post"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/IssueEvidenceRead"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/issues/{issue_id}/notes":{"get":{"tags":["issues"],"summary":"Get Issue Notes","description":"Get all notes for a specific issue.","operationId":"get_issue_notes_issues__issue_id__notes_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"issue_id","in":"path","required":true,"schema":{"type":"integer","title":"Issue Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/IssueNoteRead"},"title":"Response Get Issue Notes Issues  Issue Id  Notes Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"tags":["issues"],"summary":"Add Issue Note","description":"Add a note to an issue.","operationId":"add_issue_note_issues__issue_id__notes_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"issue_id","in":"path","required":true,"schema":{"type":"integer","title":"Issue Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/IssueNoteCreate"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/IssueNoteRead"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/issues/stats/summary":{"get":{"tags":["issues"],"summary":"Get Issue Stats","description":"Get issue statistics summary.","operationId":"get_issue_stats_issues_stats_summary_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}},"security":[{"HTTPBearer":[]}]}},"/audit/logs":{"get":{"tags":["audit"],"summary":"Get Audit Trail","description":"Get audit trail with comprehensive filtering options.\n\nRequires admin or audit_viewer role to access audit logs.","operationId":"get_audit_trail_audit_logs_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"page","in":"query","required":false,"schema":{"type":"integer","minimum":1,"description":"Page number","default":1,"title":"Page"},"description":"Page number"},{"name":"per_page","in":"query","required":false,"schema":{"type":"integer","maximum":100,"minimum":1,"description":"Records per page","default":50,"title":"Per Page"},"description":"Records per page"},{"name":"user_id","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"description":"Filter by user ID","title":"User Id"},"description":"Filter by user ID"},{"name":"resource_type","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Filter by resource type","title":"Resource Type"},"description":"Filter by resource type"},{"name":"resource_id","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"description":"Filter by resource ID","title":"Resource Id"},"description":"Filter by resource ID"},{"name":"action","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Filter by action","title":"Action"},"description":"Filter by action"},{"name":"start_date","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"description":"Start date filter","title":"Start Date"},"description":"Start date filter"},{"name":"end_date","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"description":"End date filter","title":"End Date"},"description":"End date filter"},{"name":"ip_address","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Filter by IP address","title":"Ip Address"},"description":"Filter by IP address"},{"name":"search_term","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Search term","title":"Search Term"},"description":"Search term"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AuditTrailResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/audit/logs/{log_id}":{"get":{"tags":["audit"],"summary":"Get Audit Log","description":"Get a specific audit log entry by ID","operationId":"get_audit_log_audit_logs__log_id__get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"log_id","in":"path","required":true,"schema":{"type":"integer","title":"Log Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AuditLogWithUser"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/audit/resource/{resource_type}/{resource_id}":{"get":{"tags":["audit"],"summary":"Get Resource Audit Trail","description":"Get audit trail for a specific resource","operationId":"get_resource_audit_trail_audit_resource__resource_type___resource_id__get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"resource_type","in":"path","required":true,"schema":{"type":"string","title":"Resource Type"}},{"name":"resource_id","in":"path","required":true,"schema":{"type":"integer","title":"Resource Id"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":100,"minimum":1,"description":"Maximum number of logs to return","default":50,"title":"Limit"},"description":"Maximum number of logs to return"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/audit/users/{user_id}/activity":{"get":{"tags":["audit"],"summary":"Get User Activity Summary","description":"Get activity summary for a specific user","operationId":"get_user_activity_summary_audit_users__user_id__activity_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"user_id","in":"path","required":true,"schema":{"type":"integer","title":"User Id"}},{"name":"days","in":"query","required":false,"schema":{"type":"integer","maximum":365,"minimum":1,"description":"Number of days to analyze","default":30,"title":"Days"},"description":"Number of days to analyze"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserActivitySummary"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/audit/system/activity":{"get":{"tags":["audit"],"summary":"Get System Activity Summary","description":"Get system-wide activity summary","operationId":"get_system_activity_summary_audit_system_activity_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"hours","in":"query","required":false,"schema":{"type":"integer","maximum":168,"minimum":1,"description":"Number of hours to analyze","default":24,"title":"Hours"},"description":"Number of hours to analyze"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SystemActivitySummary"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/audit/log":{"post":{"tags":["audit"],"summary":"Create Manual Audit Log","description":"Create a manual audit log entry.\n\nThis endpoint is for administrative purposes and special cases\nwhere manual audit logging is required.","operationId":"create_manual_audit_log_audit_log_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AuditActionRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/audit/actions":{"get":{"tags":["audit"],"summary":"Get Available Actions","description":"Get list of all available audit actions in the system","operationId":"get_available_actions_audit_actions_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}},"security":[{"HTTPBearer":[]}]}},"/audit/resource-types":{"get":{"tags":["audit"],"summary":"Get Available Resource Types","description":"Get list of all available resource types in the system","operationId":"get_available_resource_types_audit_resource_types_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}},"security":[{"HTTPBearer":[]}]}},"/audit/metrics":{"get":{"tags":["audit"],"summary":"Get Audit Metrics","description":"Get audit system metrics and statistics","operationId":"get_audit_metrics_audit_metrics_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AuditMetrics"}}}}},"security":[{"HTTPBearer":[]}]}},"/audit/cleanup":{"delete":{"tags":["audit"],"summary":"Cleanup Old Audit Logs","description":"Clean up old audit logs (admin only).\n\nThis operation runs in the background to avoid timeout issues.","operationId":"cleanup_old_audit_logs_audit_cleanup_delete","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/BulkAuditCleanupRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/settings/":{"get":{"tags":["settings"],"summary":"Get All Settings","description":"Get all system settings (admin only).\n\nRequires admin role to access all settings.","operationId":"get_all_settings_settings__get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"page","in":"query","required":false,"schema":{"type":"integer","minimum":1,"description":"Page number","default":1,"title":"Page"},"description":"Page number"},{"name":"per_page","in":"query","required":false,"schema":{"type":"integer","maximum":100,"minimum":1,"description":"Records per page","default":50,"title":"Per Page"},"description":"Records per page"},{"name":"category","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Filter by category","title":"Category"},"description":"Filter by category"},{"name":"is_public","in":"query","required":false,"schema":{"anyOf":[{"type":"boolean"},{"type":"null"}],"description":"Filter by public/private","title":"Is Public"},"description":"Filter by public/private"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SystemSettingsList"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"tags":["settings"],"summary":"Create Setting","description":"Create a new system setting (admin only).","operationId":"create_setting_settings__post","security":[{"HTTPBearer":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SystemSettingCreate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SystemSettingRead"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/settings/public":{"get":{"tags":["settings"],"summary":"Get Public Settings","description":"Get all public system settings.\n\nThese settings are accessible to all authenticated users.","operationId":"get_public_settings_settings_public_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SystemSettingsPublicList"}}}}}}},"/settings/{key}":{"get":{"tags":["settings"],"summary":"Get Setting","description":"Get a specific setting by key.\n\nPublic settings are accessible to all users.\nPrivate settings require admin access.","operationId":"get_setting_settings__key__get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"key","in":"path","required":true,"schema":{"type":"string","title":"Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SystemSettingRead"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"put":{"tags":["settings"],"summary":"Update Setting","description":"Update a system setting (admin only).","operationId":"update_setting_settings__key__put","security":[{"HTTPBearer":[]}],"parameters":[{"name":"key","in":"path","required":true,"schema":{"type":"string","title":"Key"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SystemSettingUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SystemSettingRead"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["settings"],"summary":"Delete Setting","description":"Delete a system setting (admin only).\n\nCore system settings cannot be deleted.","operationId":"delete_setting_settings__key__delete","security":[{"HTTPBearer":[]}],"parameters":[{"name":"key","in":"path","required":true,"schema":{"type":"string","title":"Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/settings/{key}/value":{"patch":{"tags":["settings"],"summary":"Update Setting Value","description":"Update just the value of a setting (admin only).\n\nConvenient endpoint for quick value updates.","operationId":"update_setting_value_settings__key__value_patch","security":[{"HTTPBearer":[]}],"parameters":[{"name":"key","in":"path","required":true,"schema":{"type":"string","title":"Key"}},{"name":"value","in":"query","required":true,"schema":{"title":"Value"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/settings/bulk":{"put":{"tags":["settings"],"summary":"Bulk Update Settings","description":"Update multiple settings in a single request (admin only).","operationId":"bulk_update_settings_settings_bulk_put","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/BulkSettingsUpdate"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/settings/categories/":{"get":{"tags":["settings"],"summary":"Get Settings Categories","description":"Get all settings categories with counts.","operationId":"get_settings_categories_settings_categories__get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/SettingsCategory"},"type":"array","title":"Response Get Settings Categories Settings Categories  Get"}}}}},"security":[{"HTTPBearer":[]}]}},"/settings/category/{category}":{"get":{"tags":["settings"],"summary":"Get Settings By Category","description":"Get all settings in a specific category.\n\nPublic settings are accessible to all users.\nPrivate settings require admin access.","operationId":"get_settings_by_category_settings_category__category__get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"category","in":"path","required":true,"schema":{"type":"string","title":"Category"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/settings/metrics/":{"get":{"tags":["settings"],"summary":"Get Settings Metrics","description":"Get settings system metrics (admin only).","operationId":"get_settings_metrics_settings_metrics__get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SettingsMetrics"}}}}},"security":[{"HTTPBearer":[]}]}},"/settings/{key}/reset":{"post":{"tags":["settings"],"summary":"Reset Setting To Default","description":"Reset a setting to its default value (admin only).","operationId":"reset_setting_to_default_settings__key__reset_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"key","in":"path","required":true,"schema":{"type":"string","title":"Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/settings/initialize":{"post":{"tags":["settings"],"summary":"Initialize Default Settings","description":"Initialize system with default settings (admin only).\n\nThis is typically run during system setup or to restore default settings.","operationId":"initialize_default_settings_settings_initialize_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"force_update","in":"query","required":false,"schema":{"type":"boolean","description":"Overwrite existing settings","default":false,"title":"Force Update"},"description":"Overwrite existing settings"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/settings/export/":{"get":{"tags":["settings"],"summary":"Export Settings","description":"Export settings to JSON format (admin only).","operationId":"export_settings_settings_export__get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"include_private","in":"query","required":false,"schema":{"type":"boolean","description":"Include private settings","default":false,"title":"Include Private"},"description":"Include private settings"},{"name":"categories","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Comma-separated list of categories","title":"Categories"},"description":"Comma-separated list of categories"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/settings/defaults/":{"get":{"tags":["settings"],"summary":"Get Default Settings Schema","description":"Get the schema of default system settings.\n\nUseful for understanding what settings are available.","operationId":"get_default_settings_schema_settings_defaults__get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}},"security":[{"HTTPBearer":[]}]}},"/shifts/active":{"get":{"tags":["shifts"],"summary":"Get Active Shifts Detailed","description":"Get all currently active shifts with detailed information\n\n**Required permissions:** shift:read_all","operationId":"get_active_shifts_detailed_shifts_active_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/ShiftRead"},"type":"array","title":"Response Get Active Shifts Detailed Shifts Active Get"}}}}},"security":[{"HTTPBearer":[]}]}},"/shifts/":{"post":{"tags":["shifts"],"summary":"Create Shift","description":"Create a new shift\n\n**Required permissions:** shift:create","operationId":"create_shift_shifts__post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ShiftCreate"}}},"required":true},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ShiftRead"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/shifts/{shift_id}":{"get":{"tags":["shifts"],"summary":"Get Shift Details","description":"Get detailed information about a specific shift\n\n**Required permissions:** shift:read","operationId":"get_shift_details_shifts__shift_id__get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"shift_id","in":"path","required":true,"schema":{"type":"integer","title":"Shift Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ShiftWithDetails"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"put":{"tags":["shifts"],"summary":"Update Shift","description":"Update an existing shift\n\n**Required permissions:** shift:update","operationId":"update_shift_shifts__shift_id__put","security":[{"HTTPBearer":[]}],"parameters":[{"name":"shift_id","in":"path","required":true,"schema":{"type":"integer","title":"Shift Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ShiftUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ShiftRead"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["shifts"],"summary":"Cancel Shift","description":"Cancel a shift (soft delete by changing status)\n\n**Required permissions:** shift:delete","operationId":"cancel_shift_shifts__shift_id__delete","security":[{"HTTPBearer":[]}],"parameters":[{"name":"shift_id","in":"path","required":true,"schema":{"type":"integer","title":"Shift Id"}}],"responses":{"204":{"description":"Successful Response"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/shifts/{shift_id}/clock-in":{"post":{"tags":["shifts"],"summary":"Clock In","description":"Clock in for a shift\n\n**Required permissions:** shift:clock_in (or own shift)","operationId":"clock_in_shifts__shift_id__clock_in_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"shift_id","in":"path","required":true,"schema":{"type":"integer","title":"Shift Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ClockInRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","title":"Response Clock In Shifts  Shift Id  Clock In Post"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/shifts/{shift_id}/clock-out":{"post":{"tags":["shifts"],"summary":"Clock Out","description":"Clock out from a shift\n\n**Required permissions:** shift:clock_out (or own shift)","operationId":"clock_out_shifts__shift_id__clock_out_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"shift_id","in":"path","required":true,"schema":{"type":"integer","title":"Shift Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ClockOutRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","title":"Response Clock Out Shifts  Shift Id  Clock Out Post"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/shifts/{shift_id}/break-start":{"post":{"tags":["shifts"],"summary":"Start Break","description":"Start a break during a shift\n\n**Required permissions:** shift:break (or own shift)","operationId":"start_break_shifts__shift_id__break_start_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"shift_id","in":"path","required":true,"schema":{"type":"integer","title":"Shift Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/BreakRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GuardCheckinRead"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/shifts/{shift_id}/break-end":{"post":{"tags":["shifts"],"summary":"End Break","description":"End a break during a shift\n\n**Required permissions:** shift:break (or own shift)","operationId":"end_break_shifts__shift_id__break_end_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"shift_id","in":"path","required":true,"schema":{"type":"integer","title":"Shift Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/BreakRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GuardCheckinRead"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/shifts/{shift_id}/overtime/request":{"post":{"tags":["shifts"],"summary":"Request Overtime","description":"Request overtime for a shift\n\n**Required permissions:** shift:overtime_request (or own shift)","operationId":"request_overtime_shifts__shift_id__overtime_request_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"shift_id","in":"path","required":true,"schema":{"type":"integer","title":"Shift Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/OvertimeRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ShiftRead"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/shifts/{shift_id}/overtime/approve":{"post":{"tags":["shifts"],"summary":"Approve Overtime","description":"Approve or deny overtime for a shift\n\n**Required permissions:** shift:overtime_approve","operationId":"approve_overtime_shifts__shift_id__overtime_approve_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"shift_id","in":"path","required":true,"schema":{"type":"integer","title":"Shift Id"}},{"name":"approved","in":"query","required":false,"schema":{"type":"boolean","default":true,"title":"Approved"}},{"name":"approval_notes","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Approval Notes"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ShiftRead"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/shifts/schedule/recurring":{"post":{"tags":["shifts"],"summary":"Create Recurring Shifts","description":"Create recurring shifts based on a pattern\n\n**Required permissions:** shift:schedule","operationId":"create_recurring_shifts_shifts_schedule_recurring_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ShiftScheduleRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BulkShiftResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/shifts/schedule/auto-assign":{"post":{"tags":["shifts"],"summary":"Auto Assign Guards","description":"Automatically assign guards to shifts\n\n**Required permissions:** shift:schedule","operationId":"auto_assign_guards_shifts_schedule_auto_assign_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"site_id","in":"query","required":true,"schema":{"type":"integer","title":"Site Id"}},{"name":"start_date","in":"query","required":true,"schema":{"type":"string","format":"date-time","title":"Start Date"}},{"name":"end_date","in":"query","required":true,"schema":{"type":"string","format":"date-time","title":"End Date"}},{"name":"shift_hours","in":"query","required":false,"schema":{"type":"integer","default":8,"title":"Shift Hours"}},{"name":"guards_per_shift","in":"query","required":false,"schema":{"type":"integer","default":1,"title":"Guards Per Shift"}}],"requestBody":{"content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/Body_auto_assign_guards_shifts_schedule_auto_assign_post"}],"title":"Body"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ShiftRead"},"title":"Response Auto Assign Guards Shifts Schedule Auto Assign Post"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/shifts/conflicts/resolve":{"post":{"tags":["shifts"],"summary":"Resolve Shift Conflicts","description":"Handle and resolve conflicts between shifts\n\n**Required permissions:** shift:schedule","operationId":"resolve_shift_conflicts_shifts_conflicts_resolve_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"resolution_strategy","in":"query","required":false,"schema":{"type":"string","default":"auto","title":"Resolution Strategy"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"array","items":{"type":"integer"},"title":"Shift Ids"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","title":"Response Resolve Shift Conflicts Shifts Conflicts Resolve Post"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/panic/trigger":{"post":{"tags":["panic"],"summary":"Trigger Panic Alert","description":"Trigger a panic alert\n\n**Emergency Endpoint**: This endpoint is used by guards to trigger panic alerts\nin emergency situations. The alert will immediately notify supervisors and\ninitiate emergency response protocols.","operationId":"trigger_panic_alert_panic_trigger_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PanicAlertTrigger"}}},"required":true},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PanicAlertRead"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/panic/{alert_id}/acknowledge":{"put":{"tags":["panic"],"summary":"Acknowledge Panic Alert","description":"Acknowledge a panic alert (Supervisors/Admins only)\n\nThis endpoint allows supervisors and administrators to acknowledge\npanic alerts, indicating that emergency response is being initiated.","operationId":"acknowledge_panic_alert_panic__alert_id__acknowledge_put","security":[{"HTTPBearer":[]}],"parameters":[{"name":"alert_id","in":"path","required":true,"schema":{"type":"integer","title":"Alert Id"}}],"requestBody":{"content":{"application/json":{"schema":{"anyOf":[{"$ref":"#/components/schemas/PanicAlertAcknowledge"},{"type":"null"}],"title":"Acknowledgment"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PanicAlertRead"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/panic/{alert_id}/resolve":{"put":{"tags":["panic"],"summary":"Resolve Panic Alert","description":"Resolve a panic alert (Supervisors/Admins only)\n\nThis endpoint allows supervisors and administrators to mark\npanic alerts as resolved or false alarms.","operationId":"resolve_panic_alert_panic__alert_id__resolve_put","security":[{"HTTPBearer":[]}],"parameters":[{"name":"alert_id","in":"path","required":true,"schema":{"type":"integer","title":"Alert Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PanicAlertResolve"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PanicAlertRead"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/panic/{alert_id}/status":{"put":{"tags":["panic"],"summary":"Update Alert Status","description":"Update panic alert status (Supervisors/Admins only)\n\nThis endpoint allows updating the status of a panic alert\n(e.g., from acknowledged to responding).","operationId":"update_alert_status_panic__alert_id__status_put","security":[{"HTTPBearer":[]}],"parameters":[{"name":"alert_id","in":"path","required":true,"schema":{"type":"integer","title":"Alert Id"}},{"name":"new_status","in":"query","required":true,"schema":{"$ref":"#/components/schemas/AlertStatusEnum"}},{"name":"notes","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Notes"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PanicAlertRead"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/panic/active":{"get":{"tags":["panic"],"summary":"Get Active Alerts","description":"Get all active panic alerts (Supervisors/Admins only)\n\nReturns all currently active panic alerts that require attention.","operationId":"get_active_alerts_panic_active_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/PanicAlertSummary"},"type":"array","title":"Response Get Active Alerts Panic Active Get"}}}}},"security":[{"HTTPBearer":[]}]}},"/panic/alerts":{"get":{"tags":["panic"],"summary":"Get Panic Alerts","description":"Get panic alerts with filtering and pagination (Supervisors/Admins only)\n\nRetrieve panic alerts based on various filters with pagination support.","operationId":"get_panic_alerts_panic_alerts_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"guard_id","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"description":"Filter by guard ID","title":"Guard Id"},"description":"Filter by guard ID"},{"name":"status","in":"query","required":false,"schema":{"anyOf":[{"$ref":"#/components/schemas/AlertStatusEnum"},{"type":"null"}],"description":"Filter by status","title":"Status"},"description":"Filter by status"},{"name":"severity","in":"query","required":false,"schema":{"anyOf":[{"$ref":"#/components/schemas/AlertSeverityEnum"},{"type":"null"}],"description":"Filter by severity","title":"Severity"},"description":"Filter by severity"},{"name":"start_date","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"description":"Filter alerts after this date","title":"Start Date"},"description":"Filter alerts after this date"},{"name":"end_date","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"description":"Filter alerts before this date","title":"End Date"},"description":"Filter alerts before this date"},{"name":"is_active","in":"query","required":false,"schema":{"anyOf":[{"type":"boolean"},{"type":"null"}],"description":"Filter by active status","title":"Is Active"},"description":"Filter by active status"},{"name":"page","in":"query","required":false,"schema":{"type":"integer","minimum":1,"description":"Page number","default":1,"title":"Page"},"description":"Page number"},{"name":"size","in":"query","required":false,"schema":{"type":"integer","maximum":100,"minimum":1,"description":"Page size","default":50,"title":"Size"},"description":"Page size"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PanicAlertListResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/panic/{alert_id}":{"get":{"tags":["panic"],"summary":"Get Panic Alert","description":"Get a specific panic alert by ID\n\nGuards can only view their own alerts, supervisors/admins can view all alerts.","operationId":"get_panic_alert_panic__alert_id__get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"alert_id","in":"path","required":true,"schema":{"type":"integer","title":"Alert Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PanicAlertRead"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/panic/statistics":{"get":{"tags":["panic"],"summary":"Get Panic Alert Statistics","description":"Get panic alert statistics (Supervisors/Admins only)\n\nProvides statistical analysis of panic alerts for reporting and insights.","operationId":"get_panic_alert_statistics_panic_statistics_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"start_date","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"description":"Statistics start date","title":"Start Date"},"description":"Statistics start date"},{"name":"end_date","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"description":"Statistics end date","title":"End Date"},"description":"Statistics end date"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PanicAlertStats"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/panic/mobile/trigger":{"post":{"tags":["panic"],"summary":"Trigger Mobile Panic Alert","description":"Trigger panic alert from mobile app (Mobile-optimized)\n\n**Emergency Endpoint**: Simplified endpoint for mobile applications\nto trigger panic alerts with minimal data payload.","operationId":"trigger_mobile_panic_alert_panic_mobile_trigger_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/MobilePanicAlertTrigger"}}},"required":true},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MobilePanicAlertResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/panic/mobile/status/{alert_id}":{"get":{"tags":["panic"],"summary":"Get Mobile Alert Status","description":"Get panic alert status for mobile app (Mobile-optimized)\n\nReturns minimal panic alert information optimized for mobile apps.","operationId":"get_mobile_alert_status_panic_mobile_status__alert_id__get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"alert_id","in":"path","required":true,"schema":{"type":"integer","title":"Alert Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MobilePanicAlertResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/panic/emergency/responders":{"get":{"tags":["panic"],"summary":"Get Active Emergency Responders","description":"Get currently active emergency responders (Supervisors/Admins only)\n\nReturns information about emergency responders currently connected\nand available to respond to panic alerts.","operationId":"get_active_emergency_responders_panic_emergency_responders_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","title":"Response Get Active Emergency Responders Panic Emergency Responders Get"}}}}},"security":[{"HTTPBearer":[]}]}},"/panic/emergency/metrics":{"get":{"tags":["panic"],"summary":"Get Emergency Response Metrics","description":"Get emergency response metrics (Supervisors/Admins only)\n\nProvides detailed metrics about emergency response performance\nincluding response times, escalation rates, and SLA compliance.","operationId":"get_emergency_response_metrics_panic_emergency_metrics_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"start_date","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"description":"Start date for metrics","title":"Start Date"},"description":"Start date for metrics"},{"name":"end_date","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"description":"End date for metrics","title":"End Date"},"description":"End date for metrics"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","title":"Response Get Emergency Response Metrics Panic Emergency Metrics Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/panic/{alert_id}/escalate":{"post":{"tags":["panic"],"summary":"Escalate Panic Alert","description":"Manually escalate a panic alert (Supervisors/Admins only)\n\nForces escalation of a panic alert even if automatic escalation\nhasn't been triggered yet.","operationId":"escalate_panic_alert_panic__alert_id__escalate_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"alert_id","in":"path","required":true,"schema":{"type":"integer","title":"Alert Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","title":"Response Escalate Panic Alert Panic  Alert Id  Escalate Post"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/files/upload":{"post":{"tags":["File Management"],"summary":"Upload File","description":"Upload a file with metadata.\n\n- **file**: File to upload\n- **description**: Optional file description\n- **tags**: Comma-separated tags for organization\n- **is_public**: Whether file is publicly accessible\n- **expires_in_days**: Optional expiration in days\n- **subfolder**: Optional subfolder for organization","operationId":"upload_file_files_upload_post","requestBody":{"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Body_upload_file_files_upload_post"}}},"required":true},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/FileUploadResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/files/batch-upload":{"post":{"tags":["File Management"],"summary":"Batch Upload Files","description":"Upload multiple files in batch.\n\n- **files**: List of files to upload\n- **subfolder**: Optional subfolder for all files\n- **description**: Description applied to all files\n- **tags**: Tags applied to all files\n- **is_public**: Whether all files are publicly accessible\n- **expires_in_days**: Expiration applied to all files","operationId":"batch_upload_files_files_batch_upload_post","requestBody":{"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Body_batch_upload_files_files_batch_upload_post"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BulkUploadResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/files/":{"get":{"tags":["File Management"],"summary":"List Files","description":"List files with filtering and pagination.\n\n- **page**: Page number (starts from 1)\n- **page_size**: Number of items per page (max 100)\n- **file_type**: Filter by MIME type (e.g., 'image/')\n- **uploaded_by**: Filter by uploader user ID\n- **tags**: Filter by tags (partial match)\n- **include_public**: Include public files in results","operationId":"list_files_files__get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"page","in":"query","required":false,"schema":{"type":"integer","minimum":1,"description":"Page number","default":1,"title":"Page"},"description":"Page number"},{"name":"page_size","in":"query","required":false,"schema":{"type":"integer","maximum":100,"minimum":1,"description":"Items per page","default":20,"title":"Page Size"},"description":"Items per page"},{"name":"file_type","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Filter by MIME type","title":"File Type"},"description":"Filter by MIME type"},{"name":"uploaded_by","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"description":"Filter by uploader user ID","title":"Uploaded By"},"description":"Filter by uploader user ID"},{"name":"tags","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Filter by tags","title":"Tags"},"description":"Filter by tags"},{"name":"include_public","in":"query","required":false,"schema":{"type":"boolean","description":"Include public files","default":true,"title":"Include Public"},"description":"Include public files"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/FileListResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/files/{file_id}":{"get":{"tags":["File Management"],"summary":"Get File Info","description":"Get file metadata by ID.\n\n- **file_id**: File ID to retrieve","operationId":"get_file_info_files__file_id__get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"file_id","in":"path","required":true,"schema":{"type":"integer","title":"File Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/FileMetadata"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"put":{"tags":["File Management"],"summary":"Update File Metadata","description":"Update file metadata.\n\n- **file_id**: File ID to update\n- **update_request**: New metadata values\n\nOnly the file owner can update metadata.","operationId":"update_file_metadata_files__file_id__put","security":[{"HTTPBearer":[]}],"parameters":[{"name":"file_id","in":"path","required":true,"schema":{"type":"integer","title":"File Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/FileUpdateRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/FileMetadata"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["File Management"],"summary":"Delete File","description":"Delete file (soft delete).\n\n- **file_id**: File ID to delete\n\nOnly the file owner can delete the file.\nThe file is soft-deleted from the database and removed from storage.","operationId":"delete_file_files__file_id__delete","security":[{"HTTPBearer":[]}],"parameters":[{"name":"file_id","in":"path","required":true,"schema":{"type":"integer","title":"File Id"}}],"responses":{"204":{"description":"Successful Response"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/files/{file_id}/download":{"get":{"tags":["File Management"],"summary":"Get Download Url","description":"Get secure download URL for file.\n\n- **file_id**: File ID to download\n\nReturns a signed URL that expires after the configured time period.","operationId":"get_download_url_files__file_id__download_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"file_id","in":"path","required":true,"schema":{"type":"integer","title":"File Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/FileAccessResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/files/stats/overview":{"get":{"tags":["File Management"],"summary":"Get File Statistics","description":"Get file statistics and overview.\n\nReturns statistics about files accessible to the current user.","operationId":"get_file_statistics_files_stats_overview_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/FileStatsResponse"}}}}},"security":[{"HTTPBearer":[]}]}},"/files/admin/orphaned":{"get":{"tags":["File Management"],"summary":"Find Orphaned Files","description":"Find potentially orphaned files (Admin only).\n\n- **days_threshold**: Consider files orphaned if not accessed for this many days\n\nRequires admin permissions.","operationId":"find_orphaned_files_files_admin_orphaned_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"days_threshold","in":"query","required":false,"schema":{"type":"integer","minimum":1,"description":"Days threshold for orphaned detection","default":30,"title":"Days Threshold"},"description":"Days threshold for orphaned detection"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/OrphanedFileResponse"},"title":"Response Find Orphaned Files Files Admin Orphaned Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/files/admin/cleanup":{"post":{"tags":["File Management"],"summary":"Cleanup Expired Files","description":"Clean up expired files (Admin only).\n\nRemoves files that have passed their expiration date.\nRequires admin permissions.","operationId":"cleanup_expired_files_files_admin_cleanup_post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CleanupStatsResponse"}}}}},"security":[{"HTTPBearer":[]}]}},"/files/public/{file_id}/download":{"get":{"tags":["File Management"],"summary":"Get Public Download Url","description":"Get download URL for public files (no authentication required).\n\n- **file_id**: File ID to download\n\nOnly works for files marked as public.","operationId":"get_public_download_url_files_public__file_id__download_get","parameters":[{"name":"file_id","in":"path","required":true,"schema":{"type":"integer","title":"File Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/FileAccessResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/events/types":{"get":{"tags":["events"],"summary":"Get Event Types","description":"Get all available event types.","operationId":"get_event_types_events_types_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"items":{"type":"string"},"type":"array","title":"Response Get Event Types Events Types Get"}}}}}}},"/events/priorities":{"get":{"tags":["events"],"summary":"Get Event Priorities","description":"Get all available event priority levels.","operationId":"get_event_priorities_events_priorities_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"items":{"type":"string"},"type":"array","title":"Response Get Event Priorities Events Priorities Get"}}}}}}},"/events/emit":{"post":{"tags":["events"],"summary":"Emit Event","description":"Emit a custom event to the system.\n\nRequires admin or supervisor permissions.","operationId":"emit_event_events_emit_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"event_type","in":"query","required":true,"schema":{"type":"string","title":"Event Type"}},{"name":"user_id","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"User Id"}},{"name":"site_id","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Site Id"}},{"name":"priority","in":"query","required":false,"schema":{"type":"string","default":"medium","title":"Priority"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","title":"Data"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":{"type":"string"},"title":"Response Emit Event Events Emit Post"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/events/history":{"get":{"tags":["events"],"summary":"Get Event History","description":"Get event history with filtering options.\n\nRequires admin or supervisor permissions.","operationId":"get_event_history_events_history_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"event_types","in":"query","required":false,"schema":{"anyOf":[{"type":"array","items":{"type":"string"}},{"type":"null"}],"title":"Event Types"}},{"name":"user_id","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"User Id"}},{"name":"site_id","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Site Id"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":1000,"default":100,"title":"Limit"}},{"name":"since","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Since"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"type":"object"},"title":"Response Get Event History Events History Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/events/stats":{"get":{"tags":["events"],"summary":"Get Event Stats","description":"Get event system statistics.\n\nRequires admin or supervisor permissions.","operationId":"get_event_stats_events_stats_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","title":"Response Get Event Stats Events Stats Get"}}}}},"security":[{"HTTPBearer":[]}]}},"/events/incident/created":{"post":{"tags":["events"],"summary":"Emit Incident Created Event","description":"Emit incident.created event.","operationId":"emit_incident_created_event_events_incident_created_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"incident_id","in":"query","required":true,"schema":{"type":"integer","title":"Incident Id"}},{"name":"site_id","in":"query","required":true,"schema":{"type":"integer","title":"Site Id"}},{"name":"description","in":"query","required":true,"schema":{"type":"string","title":"Description"}},{"name":"severity","in":"query","required":false,"schema":{"type":"string","default":"medium","title":"Severity"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":{"type":"string"},"title":"Response Emit Incident Created Event Events Incident Created Post"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/events/panic/triggered":{"post":{"tags":["events"],"summary":"Emit Panic Triggered Event","description":"Emit panic.triggered event.","operationId":"emit_panic_triggered_event_events_panic_triggered_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"alert_id","in":"query","required":true,"schema":{"type":"integer","title":"Alert Id"}},{"name":"site_id","in":"query","required":true,"schema":{"type":"integer","title":"Site Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","additionalProperties":{"type":"number"},"title":"Location"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":{"type":"string"},"title":"Response Emit Panic Triggered Event Events Panic Triggered Post"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/events/shift/started":{"post":{"tags":["events"],"summary":"Emit Shift Started Event","description":"Emit shift.started event.","operationId":"emit_shift_started_event_events_shift_started_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"shift_id","in":"query","required":true,"schema":{"type":"integer","title":"Shift Id"}},{"name":"site_id","in":"query","required":true,"schema":{"type":"integer","title":"Site Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":{"type":"string"},"title":"Response Emit Shift Started Event Events Shift Started Post"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/events/checkpoint/missed":{"post":{"tags":["events"],"summary":"Emit Checkpoint Missed Event","description":"Emit checkpoint.missed event.","operationId":"emit_checkpoint_missed_event_events_checkpoint_missed_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"checkpoint_id","in":"query","required":true,"schema":{"type":"integer","title":"Checkpoint Id"}},{"name":"patrol_id","in":"query","required":true,"schema":{"type":"integer","title":"Patrol Id"}},{"name":"site_id","in":"query","required":true,"schema":{"type":"integer","title":"Site Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":{"type":"string"},"title":"Response Emit Checkpoint Missed Event Events Checkpoint Missed Post"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/events/notifications/stats":{"get":{"tags":["events"],"summary":"Get Event Notification Stats","description":"Get event-notification integration statistics.\n\nRequires admin or supervisor permissions.","operationId":"get_event_notification_stats_events_notifications_stats_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"days","in":"query","required":false,"schema":{"type":"integer","maximum":30,"minimum":1,"default":7,"title":"Days"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","title":"Response Get Event Notification Stats Events Notifications Stats Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/events/notifications/trigger":{"post":{"tags":["events"],"summary":"Trigger Notification Event","description":"Manually trigger an event that will create notifications.\n\nRequires admin or supervisor permissions.","operationId":"trigger_notification_event_events_notifications_trigger_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"event_type","in":"query","required":true,"schema":{"type":"string","title":"Event Type"}},{"name":"user_id","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"User Id"}},{"name":"site_id","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Site Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","title":"Data"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":{"type":"string"},"title":"Response Trigger Notification Event Events Notifications Trigger Post"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/events/health":{"get":{"tags":["events"],"summary":"Get Event System Health","description":"Get event system health status.\n\nRequires admin permissions.","operationId":"get_event_system_health_events_health_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","title":"Response Get Event System Health Events Health Get"}}}}},"security":[{"HTTPBearer":[]}]}},"/live/patrols/active":{"get":{"tags":["live-monitoring"],"summary":"Get Active Patrols","description":"Get all currently active patrols with real-time status\n\nReturns patrol information including:\n- Guard assignment and location\n- Progress through checkpoints\n- Current status and timing\n- GPS coordinates if available\n\n**Requires:** Supervisor, Admin, or Monitor role","operationId":"get_active_patrols_live_patrols_active_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"site_id","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"description":"Filter by specific site","title":"Site Id"},"description":"Filter by specific site"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/LivePatrolStatus"},"title":"Response Get Active Patrols Live Patrols Active Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/live/guards/locations":{"get":{"tags":["live-monitoring"],"summary":"Get Guard Locations","description":"Get current locations of all guards\n\nReturns GPS coordinates and status for each guard including:\n- Real-time location data\n- Guard status (active, on break, offline, etc.)\n- Last update timestamp\n- Accuracy information\n\n**Requires:** Supervisor, Admin, or Monitor role","operationId":"get_guard_locations_live_guards_locations_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"site_id","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"description":"Filter by specific site","title":"Site Id"},"description":"Filter by specific site"},{"name":"active_only","in":"query","required":false,"schema":{"type":"boolean","description":"Only show active guards","default":true,"title":"Active Only"},"description":"Only show active guards"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/GuardLocation"},"title":"Response Get Guard Locations Live Guards Locations Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/live/incidents/open":{"get":{"tags":["live-monitoring"],"summary":"Get Open Incidents","description":"Get all currently open incidents\n\nReturns incident information for dashboard monitoring including:\n- Incident details and severity\n- Assignment status\n- Site and location information\n- Timestamps and progress\n\n**Requires:** Guard, Supervisor, Admin, or Monitor role","operationId":"get_open_incidents_live_incidents_open_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"site_id","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"description":"Filter by specific site","title":"Site Id"},"description":"Filter by specific site"},{"name":"severity","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Filter by severity level","title":"Severity"},"description":"Filter by severity level"},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","description":"Maximum number of incidents to return","default":50,"title":"Limit"},"description":"Maximum number of incidents to return"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/LiveIncident"},"title":"Response Get Open Incidents Live Incidents Open Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/live/alerts/active":{"get":{"tags":["live-monitoring"],"summary":"Get Active Alerts","description":"Get live alert feed for monitoring dashboard\n\nReturns current active alerts from various sources including:\n- Panic alerts from guards\n- System alerts (offline guards, missed checkpoints)\n- Emergency notifications\n- Operational alerts\n\n**Requires:** Supervisor, Admin, or Monitor role","operationId":"get_active_alerts_live_alerts_active_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"alert_type","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Filter by alert type","title":"Alert Type"},"description":"Filter by alert type"},{"name":"severity","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Filter by severity level","title":"Severity"},"description":"Filter by severity level"},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","description":"Maximum number of alerts to return","default":100,"title":"Limit"},"description":"Maximum number of alerts to return"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/LiveAlert"},"title":"Response Get Active Alerts Live Alerts Active Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/live/system/health":{"get":{"tags":["live-monitoring"],"summary":"Get System Health","description":"Get comprehensive system health status\n\nReturns system health information including:\n- Database connectivity and performance\n- Redis cache status\n- Application health metrics\n- Active guards, patrols, and incidents count\n- Overall system status\n\n**Requires:** Admin or Monitor role","operationId":"get_system_health_live_system_health_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SystemHealthResponse"}}}}},"security":[{"HTTPBearer":[]}]}},"/live/dashboard":{"get":{"tags":["live-monitoring"],"summary":"Get Live Dashboard","description":"Get complete live monitoring dashboard data\n\nReturns comprehensive real-time monitoring data including:\n- Active patrols with current status\n- Guard locations and status\n- System health metrics\n- Active alerts and incidents\n\nThis endpoint combines all monitoring data for dashboard display.\n\n**Requires:** Supervisor, Admin, or Monitor role","operationId":"get_live_dashboard_live_dashboard_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"site_id","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"description":"Filter by specific site","title":"Site Id"},"description":"Filter by specific site"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/LiveMonitoringDashboard"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/patrols/active":{"get":{"tags":["legacy-compatibility"],"summary":"Get Active Patrols Legacy","description":"Legacy endpoint for /patrols/active - calls the same logic as /live/patrols/active","operationId":"get_active_patrols_legacy_patrols_active_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"site_id","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"description":"Filter by specific site","title":"Site Id"},"description":"Filter by specific site"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/performance/stats":{"get":{"tags":["performance"],"summary":"Get Performance Statistics","description":"Get comprehensive performance statistics including cache hits, query performance, and system metrics.\n\nRequires admin privileges to access performance data.\n\nReturns:\n    - Cache performance (hit rate, total requests, invalidations)\n    - Database query statistics (slow queries, average times)\n    - Table statistics and recommendations\n    - System health metrics","operationId":"get_performance_statistics_performance_stats_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","title":"Response Get Performance Statistics Performance Stats Get"}}}}},"security":[{"HTTPBearer":[]}]}},"/performance/cache/stats":{"get":{"tags":["performance"],"summary":"Get Cache Statistics","description":"Get detailed cache performance statistics.\n\nReturns cache hit rates, miss counts, invalidation statistics,\nand current cache utilization metrics.","operationId":"get_cache_statistics_performance_cache_stats_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","title":"Response Get Cache Statistics Performance Cache Stats Get"}}}}},"security":[{"HTTPBearer":[]}]}},"/performance/cache/clear":{"delete":{"tags":["performance"],"summary":"Clear Cache","description":"Clear cache entries by pattern or clear all cache.\n\nArgs:\n    pattern: Optional pattern to match cache keys (e.g., \"live:*\", \"user:*\")\n            If not provided, clears all cache entries.\n\nReturns:\n    Number of cache entries cleared and operation details.","operationId":"clear_cache_performance_cache_clear_delete","security":[{"HTTPBearer":[]}],"parameters":[{"name":"pattern","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Pattern"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/performance/cache/invalidate/{operation}":{"post":{"tags":["performance"],"summary":"Invalidate Cache By Operation","description":"Invalidate cache entries related to a specific operation.\n\nArgs:\n    operation: Type of operation (user_update, site_update, patrol_update, etc.)\n\nSupported operations:\n    - user_update: Invalidates user-related caches\n    - site_update: Invalidates site and live monitoring caches  \n    - patrol_update: Invalidates patrol and analytics caches\n    - alert_update: Invalidates alert-related caches\n    - system_update: Invalidates system health and dashboard caches","operationId":"invalidate_cache_by_operation_performance_cache_invalidate__operation__post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"operation","in":"path","required":true,"schema":{"type":"string","title":"Operation"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/performance/database/stats":{"get":{"tags":["performance"],"summary":"Get Database Statistics","description":"Get database performance statistics and optimization insights.\n\nReturns query performance metrics, table statistics, and optimization recommendations.","operationId":"get_database_statistics_performance_database_stats_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","title":"Response Get Database Statistics Performance Database Stats Get"}}}}},"security":[{"HTTPBearer":[]}]}},"/performance/database/optimize":{"post":{"tags":["performance"],"summary":"Optimize Database","description":"Trigger database optimization including index creation and performance tuning.\n\nThis operation runs in the background to avoid blocking the API.\nNote: This may take several minutes depending on database size.","operationId":"optimize_database_performance_database_optimize_post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}},"security":[{"HTTPBearer":[]}]}},"/performance/monitoring/cache-clear":{"get":{"tags":["performance"],"summary":"Clear Monitoring Cache","description":"Clear all monitoring-related cache entries for fresh dashboard data.\n\nThis endpoint specifically clears live monitoring caches including:\n- Active patrols cache\n- Guard locations cache\n- Live alerts cache  \n- System health cache","operationId":"clear_monitoring_cache_performance_monitoring_cache_clear_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}},"security":[{"HTTPBearer":[]}]}},"/performance/health":{"get":{"tags":["performance"],"summary":"Performance System Health","description":"Quick health check for performance optimization systems.\n\nReturns status of cache service, database optimizer, and monitoring components.","operationId":"performance_system_health_performance_health_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}},"security":[{"HTTPBearer":[]}]}},"/health/":{"get":{"tags":["health"],"summary":"Basic health check","description":"Basic health check endpoint.\nReturns simple status for load balancers and uptime monitoring.","operationId":"basic_health_check_health__get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/health/detailed":{"get":{"tags":["health"],"summary":"Detailed health check","description":"Comprehensive health check of all system components.\n\nChecks:\n- Application health and uptime\n- Database connectivity and performance\n- Redis connectivity and performance  \n- System resources (CPU, memory, disk)","operationId":"detailed_health_check_health_detailed_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/health/database":{"get":{"tags":["health"],"summary":"Database health check","description":"Check database connectivity and performance.","operationId":"database_health_check_health_database_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/health/redis":{"get":{"tags":["health"],"summary":"Redis health check","description":"Check Redis connectivity and performance.","operationId":"redis_health_check_health_redis_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/health/system":{"get":{"tags":["health"],"summary":"System resources health check","description":"Check system resource utilization (CPU, memory, disk).","operationId":"system_health_check_health_system_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/health/readiness":{"get":{"tags":["health"],"summary":"Readiness probe","description":"Kubernetes readiness probe endpoint.\n\nChecks if the service is ready to receive traffic by validating\nthat all critical dependencies are available.","operationId":"readiness_probe_health_readiness_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/health/liveness":{"get":{"tags":["health"],"summary":"Liveness probe","description":"Kubernetes liveness probe endpoint.\n\nSimple check to verify the application is running and responsive.\nShould not check external dependencies.","operationId":"liveness_probe_health_liveness_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/health/metrics":{"get":{"tags":["health"],"summary":"Prometheus metrics","description":"Prometheus metrics endpoint.\n\nReturns metrics in Prometheus format for scraping by monitoring systems.","operationId":"metrics_endpoint_health_metrics_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/mobile/v1/auth/login":{"post":{"tags":["Mobile Authentication v1"],"summary":"Mobile Login","description":"Enhanced mobile-optimized login endpoint with versioning","operationId":"mobile_login_mobile_v1_auth_login_post","parameters":[{"name":"x-app-version","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Mobile app version","title":"X-App-Version"},"description":"Mobile app version"},{"name":"x-platform","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Mobile platform (ios/android)","title":"X-Platform"},"description":"Mobile platform (ios/android)"},{"name":"user-agent","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"User-Agent"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/MobileLoginRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MobileLoginResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/mobile/v1/auth/profile":{"get":{"tags":["Mobile Authentication v1"],"summary":"Get Mobile Profile","description":"Get user profile for mobile app","operationId":"get_mobile_profile_mobile_v1_auth_profile_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/app__schemas__mobile__auth__MobileUserProfile"}}}}},"security":[{"HTTPBearer":[]}]}},"/mobile/v1/auth/change-password":{"post":{"tags":["Mobile Authentication v1"],"summary":"Change Password","description":"Change password from mobile app","operationId":"change_password_mobile_v1_auth_change_password_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/MobilePasswordChange"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/mobile/v1/auth/device":{"post":{"tags":["Mobile Authentication v1"],"summary":"Update Device Info","description":"Update mobile device information","operationId":"update_device_info_mobile_v1_auth_device_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/MobileDeviceUpdate"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/mobile/v1/auth/refresh":{"post":{"tags":["Mobile Authentication v1"],"summary":"Refresh Token","description":"Refresh access token for mobile app","operationId":"refresh_token_mobile_v1_auth_refresh_post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MobileTokenRefresh"}}}}},"security":[{"HTTPBearer":[]}]}},"/mobile/v1/auth/logout":{"post":{"tags":["Mobile Authentication v1"],"summary":"Mobile Logout","description":"Enhanced logout from mobile app with version support","operationId":"mobile_logout_mobile_v1_auth_logout_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"x-app-version","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Mobile app version","title":"X-App-Version"},"description":"Mobile app version"},{"name":"x-platform","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Mobile platform (ios/android)","title":"X-Platform"},"description":"Mobile platform (ios/android)"},{"name":"user-agent","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"User-Agent"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/mobile/v1/auth/app-info":{"get":{"tags":["Mobile Authentication v1"],"summary":"Get App Info","description":"Get mobile app configuration and feature flags","operationId":"get_app_info_mobile_v1_auth_app_info_get","parameters":[{"name":"x-app-version","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Mobile app version","title":"X-App-Version"},"description":"Mobile app version"},{"name":"x-platform","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Mobile platform (ios/android)","title":"X-Platform"},"description":"Mobile platform (ios/android)"},{"name":"user-agent","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"User-Agent"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MobileAppInfo"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/mobile/v1/auth/profile/optimized":{"get":{"tags":["Mobile Authentication v1"],"summary":"Get Optimized Profile","description":"Get optimized user profile for mobile app (bandwidth-conscious)","operationId":"get_optimized_profile_mobile_v1_auth_profile_optimized_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"x-app-version","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Mobile app version","title":"X-App-Version"},"description":"Mobile app version"},{"name":"x-platform","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Mobile platform (ios/android)","title":"X-Platform"},"description":"Mobile platform (ios/android)"},{"name":"user-agent","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"User-Agent"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/app__schemas__mobile__optimized__MobileUserProfile"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/mobile/v1/auth/device/register":{"post":{"tags":["Mobile Authentication v1"],"summary":"Register Device","description":"Enhanced device registration with version tracking","operationId":"register_device_mobile_v1_auth_device_register_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"x-app-version","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Mobile app version","title":"X-App-Version"},"description":"Mobile app version"},{"name":"x-platform","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Mobile platform (ios/android)","title":"X-Platform"},"description":"Mobile platform (ios/android)"},{"name":"user-agent","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"User-Agent"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/MobileDeviceUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/mobile/v1/auth/version/check":{"get":{"tags":["Mobile Authentication v1"],"summary":"Check Version","description":"Check mobile app version compatibility","operationId":"check_version_mobile_v1_auth_version_check_get","parameters":[{"name":"x-app-version","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Mobile app version","title":"X-App-Version"},"description":"Mobile app version"},{"name":"x-platform","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Mobile platform (ios/android)","title":"X-Platform"},"description":"Mobile platform (ios/android)"},{"name":"user-agent","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"User-Agent"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/mobile/v1/patrols/assigned":{"get":{"tags":["Mobile Patrols v1"],"summary":"Get Assigned Patrols","description":"Get patrols assigned to current user (mobile optimized with versioning)","operationId":"get_assigned_patrols_mobile_v1_patrols_assigned_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"status_filter","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Filter by status","title":"Status Filter"},"description":"Filter by status"},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":100,"description":"Limit results","default":50,"title":"Limit"},"description":"Limit results"},{"name":"cursor","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Pagination cursor","title":"Cursor"},"description":"Pagination cursor"},{"name":"x-app-version","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Mobile app version","title":"X-App-Version"},"description":"Mobile app version"},{"name":"x-platform","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Mobile platform (ios/android)","title":"X-Platform"},"description":"Mobile platform (ios/android)"},{"name":"user-agent","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"User-Agent"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MobileListResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/mobile/v1/patrols/{patrol_id}/optimized":{"get":{"tags":["Mobile Patrols v1"],"summary":"Get Patrol Optimized","description":"Get optimized patrol details for mobile (version-aware)","operationId":"get_patrol_optimized_mobile_v1_patrols__patrol_id__optimized_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"patrol_id","in":"path","required":true,"schema":{"type":"integer","title":"Patrol Id"}},{"name":"x-app-version","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Mobile app version","title":"X-App-Version"},"description":"Mobile app version"},{"name":"x-platform","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Mobile platform (ios/android)","title":"X-Platform"},"description":"Mobile platform (ios/android)"},{"name":"user-agent","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"User-Agent"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/mobile/v1/patrols/{patrol_id}/action":{"post":{"tags":["Mobile Patrols v1"],"summary":"Patrol Action","description":"Optimized patrol actions (start/end/pause/resume) for mobile","operationId":"patrol_action_mobile_v1_patrols__patrol_id__action_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"patrol_id","in":"path","required":true,"schema":{"type":"integer","title":"Patrol Id"}},{"name":"x-app-version","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Mobile app version","title":"X-App-Version"},"description":"Mobile app version"},{"name":"x-platform","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Mobile platform (ios/android)","title":"X-Platform"},"description":"Mobile platform (ios/android)"},{"name":"user-agent","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"User-Agent"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/MobilePatrolActionRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/mobile/v1/patrols/{patrol_id}/checkpoints/visit/optimized":{"post":{"tags":["Mobile Patrols v1"],"summary":"Visit Checkpoint Optimized","description":"Optimized checkpoint visit recording for mobile","operationId":"visit_checkpoint_optimized_mobile_v1_patrols__patrol_id__checkpoints_visit_optimized_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"patrol_id","in":"path","required":true,"schema":{"type":"integer","title":"Patrol Id"}},{"name":"x-app-version","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Mobile app version","title":"X-App-Version"},"description":"Mobile app version"},{"name":"x-platform","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Mobile platform (ios/android)","title":"X-Platform"},"description":"Mobile platform (ios/android)"},{"name":"user-agent","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"User-Agent"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/MobileCheckpointVisitRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/mobile/v1/patrols/{patrol_id}/start":{"post":{"tags":["Mobile Patrols v1"],"summary":"Start Patrol","description":"Start a patrol from mobile app","operationId":"start_patrol_mobile_v1_patrols__patrol_id__start_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"patrol_id","in":"path","required":true,"schema":{"type":"integer","title":"Patrol Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/MobilePatrolStart"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/mobile/v1/patrols/{patrol_id}/end":{"post":{"tags":["Mobile Patrols v1"],"summary":"End Patrol","description":"End a patrol from mobile app","operationId":"end_patrol_mobile_v1_patrols__patrol_id__end_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"patrol_id","in":"path","required":true,"schema":{"type":"integer","title":"Patrol Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/MobilePatrolEnd"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/mobile/v1/patrols/{patrol_id}/checkpoints/visit":{"post":{"tags":["Mobile Patrols v1"],"summary":"Visit Checkpoint","description":"Record a checkpoint visit from mobile app","operationId":"visit_checkpoint_mobile_v1_patrols__patrol_id__checkpoints_visit_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"patrol_id","in":"path","required":true,"schema":{"type":"integer","title":"Patrol Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/MobileCheckpointVisit"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/mobile/v1/patrols/{patrol_id}/checkpoints":{"get":{"tags":["Mobile Patrols v1"],"summary":"Get Patrol Checkpoints","description":"Get checkpoints for a patrol (mobile optimized)","operationId":"get_patrol_checkpoints_mobile_v1_patrols__patrol_id__checkpoints_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"patrol_id","in":"path","required":true,"schema":{"type":"integer","title":"Patrol Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/MobileCheckpoint"},"title":"Response Get Patrol Checkpoints Mobile V1 Patrols  Patrol Id  Checkpoints Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/mobile/v1/incidents/":{"get":{"tags":["Mobile Incidents"],"summary":"Get Incidents","description":"Get incidents for mobile app (filtered by user access)","operationId":"get_incidents_mobile_v1_incidents__get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"status_filter","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Filter by status","title":"Status Filter"},"description":"Filter by status"},{"name":"severity_filter","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Filter by severity","title":"Severity Filter"},"description":"Filter by severity"},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":100,"description":"Limit results","default":50,"title":"Limit"},"description":"Limit results"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/MobileIncidentSummary"},"title":"Response Get Incidents Mobile V1 Incidents  Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"tags":["Mobile Incidents"],"summary":"Create Incident","description":"Create a new incident from mobile app","operationId":"create_incident_mobile_v1_incidents__post","security":[{"HTTPBearer":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/MobileIncidentCreate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MobileIncidentResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/mobile/v1/incidents/{incident_id}":{"get":{"tags":["Mobile Incidents"],"summary":"Get Incident Details","description":"Get detailed incident information for mobile","operationId":"get_incident_details_mobile_v1_incidents__incident_id__get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"incident_id","in":"path","required":true,"schema":{"type":"integer","title":"Incident Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MobileIncidentResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"put":{"tags":["Mobile Incidents"],"summary":"Update Incident","description":"Update an incident from mobile app","operationId":"update_incident_mobile_v1_incidents__incident_id__put","security":[{"HTTPBearer":[]}],"parameters":[{"name":"incident_id","in":"path","required":true,"schema":{"type":"integer","title":"Incident Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/MobileIncidentUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MobileIncidentResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/mobile/v1/incidents/{incident_id}/notes":{"post":{"tags":["Mobile Incidents"],"summary":"Add Incident Note","description":"Add a note to an incident from mobile app","operationId":"add_incident_note_mobile_v1_incidents__incident_id__notes_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"incident_id","in":"path","required":true,"schema":{"type":"integer","title":"Incident Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/MobileIncidentNote"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MobileIncidentNoteResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"get":{"tags":["Mobile Incidents"],"summary":"Get Incident Notes","description":"Get notes for an incident from mobile app","operationId":"get_incident_notes_mobile_v1_incidents__incident_id__notes_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"incident_id","in":"path","required":true,"schema":{"type":"integer","title":"Incident Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/MobileIncidentNoteResponse"},"title":"Response Get Incident Notes Mobile V1 Incidents  Incident Id  Notes Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/mobile/v1/emergency/trigger":{"post":{"tags":["Mobile Emergency"],"summary":"Trigger Emergency","description":"Trigger an emergency alert from mobile app","operationId":"trigger_emergency_mobile_v1_emergency_trigger_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/MobileEmergencyTrigger"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MobileEmergencyResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/mobile/v1/emergency/sos":{"post":{"tags":["Mobile Emergency"],"summary":"Trigger Sos","description":"Quick SOS trigger for mobile app","operationId":"trigger_sos_mobile_v1_emergency_sos_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/MobileSOSRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MobileEmergencyResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/mobile/v1/emergency/status/{alert_id}":{"get":{"tags":["Mobile Emergency"],"summary":"Get Emergency Status","description":"Get emergency alert status for mobile","operationId":"get_emergency_status_mobile_v1_emergency_status__alert_id__get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"alert_id","in":"path","required":true,"schema":{"type":"integer","title":"Alert Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MobileEmergencyResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/mobile/v1/emergency/update/{alert_id}":{"post":{"tags":["Mobile Emergency"],"summary":"Update Emergency Status","description":"Update emergency status from mobile (user reporting safe/status)","operationId":"update_emergency_status_mobile_v1_emergency_update__alert_id__post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"alert_id","in":"path","required":true,"schema":{"type":"integer","title":"Alert Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/MobileEmergencyUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/mobile/v1/emergency/contacts":{"get":{"tags":["Mobile Emergency"],"summary":"Get Emergency Contacts","description":"Get emergency contacts for mobile app","operationId":"get_emergency_contacts_mobile_v1_emergency_contacts_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/MobileEmergencyContact"},"type":"array","title":"Response Get Emergency Contacts Mobile V1 Emergency Contacts Get"}}}}},"security":[{"HTTPBearer":[]}]}},"/mobile/v1/emergency/info":{"get":{"tags":["Mobile Emergency"],"summary":"Get Emergency Info","description":"Get emergency information and procedures for mobile app","operationId":"get_emergency_info_mobile_v1_emergency_info_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MobileEmergencyInfo"}}}}},"security":[{"HTTPBearer":[]}]}},"/mobile/v1/sync/upload":{"post":{"tags":["Mobile Sync"],"summary":"Sync Upload","description":"Upload offline data from mobile app","operationId":"sync_upload_mobile_v1_sync_upload_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/MobileSyncRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MobileSyncResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/mobile/v1/sync/download":{"post":{"tags":["Mobile Sync"],"summary":"Sync Download","description":"Download latest data for mobile app","operationId":"sync_download_mobile_v1_sync_download_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/MobileDownloadRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MobileDownloadResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/mobile/v1/sync/checkpoint-visits":{"post":{"tags":["Mobile Sync"],"summary":"Sync Checkpoint Visits","description":"Bulk upload checkpoint visits from mobile app","operationId":"sync_checkpoint_visits_mobile_v1_sync_checkpoint_visits_post","requestBody":{"content":{"application/json":{"schema":{"items":{"type":"object"},"type":"array","title":"Visits"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MobileSyncResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/mobile/v1/sync/incident-drafts":{"post":{"tags":["Mobile Sync"],"summary":"Sync Incident Drafts","description":"Upload incident drafts from mobile app","operationId":"sync_incident_drafts_mobile_v1_sync_incident_drafts_post","requestBody":{"content":{"application/json":{"schema":{"items":{"type":"object"},"type":"array","title":"Incidents"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MobileSyncResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/mobile/v1/sync/bulk-upload":{"post":{"tags":["Mobile Sync"],"summary":"Bulk Upload","description":"Bulk upload for offline data when coming back online","operationId":"bulk_upload_mobile_v1_sync_bulk_upload_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/MobileBulkUpload"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MobileSyncResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/mobile/v1/sync/resolve-conflicts":{"post":{"tags":["Mobile Sync"],"summary":"Resolve Conflict","description":"Resolve sync conflicts from mobile app","operationId":"resolve_conflict_mobile_v1_sync_resolve_conflicts_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/MobileConflictResolution"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/mobile/v1/performance/health":{"get":{"tags":["Mobile Performance"],"summary":"Mobile Health Check","description":"Health check optimized for mobile apps","operationId":"mobile_health_check_mobile_v1_performance_health_get","parameters":[{"name":"x-app-version","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Mobile app version","title":"X-App-Version"},"description":"Mobile app version"},{"name":"x-platform","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Mobile platform (ios/android)","title":"X-Platform"},"description":"Mobile platform (ios/android)"},{"name":"user-agent","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"User-Agent"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MobileHealthCheck"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/mobile/v1/performance/metrics":{"get":{"tags":["Mobile Performance"],"summary":"Get Performance Metrics","description":"Get performance metrics for mobile app optimization","operationId":"get_performance_metrics_mobile_v1_performance_metrics_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"x-app-version","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Mobile app version","title":"X-App-Version"},"description":"Mobile app version"},{"name":"x-platform","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Mobile platform (ios/android)","title":"X-Platform"},"description":"Mobile platform (ios/android)"},{"name":"user-agent","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"User-Agent"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MobilePerformanceMetrics"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/mobile/v1/performance/report":{"post":{"tags":["Mobile Performance"],"summary":"Report Mobile Metrics","description":"Report mobile app performance metrics","operationId":"report_mobile_metrics_mobile_v1_performance_report_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"x-app-version","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Mobile app version","title":"X-App-Version"},"description":"Mobile app version"},{"name":"x-platform","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Mobile platform (ios/android)","title":"X-Platform"},"description":"Mobile platform (ios/android)"},{"name":"user-agent","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"User-Agent"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/MobileMetricsReport"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/mobile/v1/performance/network-info":{"get":{"tags":["Mobile Performance"],"summary":"Get Network Optimization Info","description":"Get network optimization recommendations for mobile app","operationId":"get_network_optimization_info_mobile_v1_performance_network_info_get","parameters":[{"name":"connection_type","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Current connection type","default":"unknown","title":"Connection Type"},"description":"Current connection type"},{"name":"x-app-version","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Mobile app version","title":"X-App-Version"},"description":"Mobile app version"},{"name":"x-platform","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Mobile platform (ios/android)","title":"X-Platform"},"description":"Mobile platform (ios/android)"},{"name":"user-agent","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"User-Agent"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MobileNetworkInfo"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/mobile/v1/performance/optimization-tips":{"get":{"tags":["Mobile Performance"],"summary":"Get Optimization Tips","description":"Get mobile app optimization tips based on version and usage","operationId":"get_optimization_tips_mobile_v1_performance_optimization_tips_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"x-app-version","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Mobile app version","title":"X-App-Version"},"description":"Mobile app version"},{"name":"x-platform","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Mobile platform (ios/android)","title":"X-Platform"},"description":"Mobile platform (ios/android)"},{"name":"user-agent","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"User-Agent"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/websocket-docs/endpoints":{"get":{"tags":["WebSocket Documentation"],"summary":"List all WebSocket endpoints","description":"Get documentation for all available WebSocket endpoints.\n\nReturns information about WebSocket endpoints that aren't visible in Swagger UI.","operationId":"get_websocket_endpoints_websocket_docs_endpoints_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","title":"Response Get Websocket Endpoints Websocket Docs Endpoints Get"}}}}}}},"/websocket-docs/test-connection/{user_id}":{"get":{"tags":["WebSocket Documentation"],"summary":"Test Websocket Connection Info","description":"Get connection information for testing WebSocket endpoints.\n\nReturns the WebSocket URL and token information for testing.","operationId":"test_websocket_connection_info_websocket_docs_test_connection__user_id__get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"user_id","in":"path","required":true,"schema":{"type":"integer","title":"User Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","title":"Response Test Websocket Connection Info Websocket Docs Test Connection  User Id  Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/gps/location":{"post":{"tags":["gps"],"summary":"Record Location","description":"Record a new GPS location for a guard.\nThis endpoint is typically called by mobile apps.","operationId":"record_location_gps_location_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/GPSLocationCreate"}}},"required":true},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GPSLocationOut"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/gps/location/current":{"get":{"tags":["gps"],"summary":"Get Current Locations","description":"Get current locations of all guards.\nReturns the most recent location for each guard.","operationId":"get_current_locations_gps_location_current_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"site_id","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"description":"Filter by site ID","title":"Site Id"},"description":"Filter by site ID"},{"name":"status_filter","in":"query","required":false,"schema":{"anyOf":[{"$ref":"#/components/schemas/LocationStatus"},{"type":"null"}],"description":"Filter by status","title":"Status Filter"},"description":"Filter by status"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/app__schemas__gps__GuardLocationStatus"},"title":"Response Get Current Locations Gps Location Current Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/gps/location/history/{guard_id}":{"get":{"tags":["gps"],"summary":"Get Location History","description":"Get location history for a specific guard.","operationId":"get_location_history_gps_location_history__guard_id__get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"guard_id","in":"path","required":true,"schema":{"type":"integer","title":"Guard Id"}},{"name":"start_date","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"description":"Start date for history","title":"Start Date"},"description":"Start date for history"},{"name":"end_date","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"description":"End date for history","title":"End Date"},"description":"End date for history"},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":1000,"description":"Maximum number of records","default":100,"title":"Limit"},"description":"Maximum number of records"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/GPSLocationOut"},"title":"Response Get Location History Gps Location History  Guard Id  Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/gps/sos":{"post":{"tags":["gps"],"summary":"Trigger Sos Alert","description":"Trigger an SOS emergency alert with current location.\nThis will be broadcast to all monitoring dashboards.","operationId":"trigger_sos_alert_gps_sos_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"latitude","in":"query","required":true,"schema":{"type":"number","title":"Latitude"}},{"name":"longitude","in":"query","required":true,"schema":{"type":"number","title":"Longitude"}},{"name":"message","in":"query","required":false,"schema":{"type":"string","default":"Emergency SOS Alert","title":"Message"}}],"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/gps/alerts/active":{"get":{"tags":["gps"],"summary":"Get Active Alerts","description":"Get active location-based alerts.","operationId":"get_active_alerts_gps_alerts_active_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"site_id","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"description":"Filter by site ID","title":"Site Id"},"description":"Filter by site ID"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"type":"object"},"title":"Response Get Active Alerts Gps Alerts Active Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/gps/alerts/{alert_id}/acknowledge":{"put":{"tags":["gps"],"summary":"Acknowledge Alert","description":"Acknowledge a location-based alert.","operationId":"acknowledge_alert_gps_alerts__alert_id__acknowledge_put","security":[{"HTTPBearer":[]}],"parameters":[{"name":"alert_id","in":"path","required":true,"schema":{"type":"integer","title":"Alert Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/":{"get":{"summary":"Root","description":"Root endpoint.","operationId":"root__get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/health":{"get":{"summary":"Health Check","description":"Basic health check endpoint for backward compatibility.","operationId":"health_check_health_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}}},"components":{"schemas":{"AlertSeverityEnum":{"type":"string","enum":["low","medium","high","critical"],"title":"AlertSeverityEnum","description":"Alert severity enumeration for API"},"AlertStatusEnum":{"type":"string","enum":["triggered","acknowledged","responding","resolved","false_alarm"],"title":"AlertStatusEnum","description":"Alert status enumeration for API"},"AlertType":{"type":"string","enum":["panic","incident","checkpoint_missed","guard_offline","system"],"title":"AlertType","description":"Live alert type enumeration"},"AreaCreate":{"properties":{"name":{"type":"string","title":"Name"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"latitude":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Latitude"},"longitude":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Longitude"},"qr_code_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Qr Code Id"},"nfc_tag_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Nfc Tag Id"},"area_type":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Area Type"}},"type":"object","required":["name"],"title":"AreaCreate"},"AreaRead":{"properties":{"name":{"type":"string","title":"Name"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"latitude":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Latitude"},"longitude":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Longitude"},"qr_code_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Qr Code Id"},"nfc_tag_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Nfc Tag Id"},"area_type":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Area Type"},"id":{"type":"integer","title":"Id"},"location_id":{"type":"integer","title":"Location Id"}},"type":"object","required":["name","id","location_id"],"title":"AreaRead"},"AreaUpdate":{"properties":{"name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Name"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"latitude":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Latitude"},"longitude":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Longitude"},"qr_code_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Qr Code Id"},"nfc_tag_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Nfc Tag Id"},"area_type":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Area Type"}},"type":"object","title":"AreaUpdate"},"AuditActionRequest":{"properties":{"action":{"type":"string","title":"Action"},"resource_type":{"type":"string","title":"Resource Type"},"resource_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Resource Id"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"additional_data":{"anyOf":[{"type":"object"},{"type":"null"}],"title":"Additional Data"}},"type":"object","required":["action","resource_type"],"title":"AuditActionRequest","description":"Schema for manual audit log creation"},"AuditLogWithUser":{"properties":{"action":{"type":"string","title":"Action","description":"Action performed (CREATE, READ, UPDATE, DELETE, etc.)"},"resource_type":{"type":"string","title":"Resource Type","description":"Type of resource affected"},"resource_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Resource Id","description":"ID of the affected resource"},"old_values":{"anyOf":[{"type":"object"},{"type":"null"}],"title":"Old Values","description":"Previous state of the resource"},"new_values":{"anyOf":[{"type":"object"},{"type":"null"}],"title":"New Values","description":"New state of the resource"},"ip_address":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Ip Address","description":"Client IP address"},"user_agent":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"User Agent","description":"Client user agent"},"endpoint":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Endpoint","description":"API endpoint that triggered the action"},"method":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Method","description":"HTTP method used"},"session_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Session Id","description":"Session identifier"},"additional_data":{"anyOf":[{"type":"object"},{"type":"null"}],"title":"Additional Data","description":"Additional context data"},"id":{"type":"integer","title":"Id"},"user_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"User Id"},"timestamp":{"type":"string","format":"date-time","title":"Timestamp"},"user":{"anyOf":[{"type":"object"},{"type":"null"}],"title":"User","description":"User information"}},"type":"object","required":["action","resource_type","id","user_id","timestamp"],"title":"AuditLogWithUser","description":"Schema for audit log with user details"},"AuditMetrics":{"properties":{"total_logs":{"type":"integer","title":"Total Logs"},"logs_last_24h":{"type":"integer","title":"Logs Last 24H"},"logs_last_7d":{"type":"integer","title":"Logs Last 7D"},"logs_last_30d":{"type":"integer","title":"Logs Last 30D"},"most_common_actions":{"additionalProperties":{"type":"integer"},"type":"object","title":"Most Common Actions"},"most_active_resource_types":{"additionalProperties":{"type":"integer"},"type":"object","title":"Most Active Resource Types"},"database_size_mb":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Database Size Mb"},"oldest_log_date":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Oldest Log Date"},"newest_log_date":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Newest Log Date"}},"type":"object","required":["total_logs","logs_last_24h","logs_last_7d","logs_last_30d","most_common_actions","most_active_resource_types"],"title":"AuditMetrics","description":"Schema for audit system metrics"},"AuditTrailResponse":{"properties":{"logs":{"items":{"$ref":"#/components/schemas/AuditLogWithUser"},"type":"array","title":"Logs"},"total":{"type":"integer","title":"Total"},"page":{"type":"integer","title":"Page"},"per_page":{"type":"integer","title":"Per Page"},"has_next":{"type":"boolean","title":"Has Next"},"has_prev":{"type":"boolean","title":"Has Prev"}},"type":"object","required":["logs","total","page","per_page","has_next","has_prev"],"title":"AuditTrailResponse","description":"Schema for paginated audit trail response"},"Body_add_photo_to_visit_checkpoints_visits__visit_id__photos_post":{"properties":{"file":{"type":"string","format":"binary","title":"File"}},"type":"object","required":["file"],"title":"Body_add_photo_to_visit_checkpoints_visits__visit_id__photos_post"},"Body_auto_assign_guards_shifts_schedule_auto_assign_post":{"properties":{"preferred_guards":{"anyOf":[{"items":{"type":"integer"},"type":"array"},{"type":"null"}],"title":"Preferred Guards"},"exclude_guards":{"anyOf":[{"items":{"type":"integer"},"type":"array"},{"type":"null"}],"title":"Exclude Guards"}},"type":"object","title":"Body_auto_assign_guards_shifts_schedule_auto_assign_post"},"Body_batch_upload_files_files_batch_upload_post":{"properties":{"files":{"items":{"type":"string","format":"binary"},"type":"array","title":"Files"},"subfolder":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Subfolder"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"tags":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Tags"},"is_public":{"type":"boolean","title":"Is Public","default":false},"expires_in_days":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Expires In Days"}},"type":"object","required":["files"],"title":"Body_batch_upload_files_files_batch_upload_post"},"Body_login_auth_login_post":{"properties":{"grant_type":{"anyOf":[{"type":"string","pattern":"password"},{"type":"null"}],"title":"Grant Type"},"username":{"type":"string","title":"Username"},"password":{"type":"string","title":"Password"},"scope":{"type":"string","title":"Scope","default":""},"client_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Client Id"},"client_secret":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Client Secret"}},"type":"object","required":["username","password"],"title":"Body_login_auth_login_post"},"Body_upload_file_files_upload_post":{"properties":{"file":{"type":"string","format":"binary","title":"File"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"tags":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Tags"},"is_public":{"type":"boolean","title":"Is Public","default":false},"expires_in_days":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Expires In Days"},"subfolder":{"type":"string","title":"Subfolder","default":""}},"type":"object","required":["file"],"title":"Body_upload_file_files_upload_post"},"Body_upload_issue_evidence_issues__issue_id__evidence_post":{"properties":{"file":{"type":"string","format":"binary","title":"File"}},"type":"object","required":["file"],"title":"Body_upload_issue_evidence_issues__issue_id__evidence_post"},"BreakRequest":{"properties":{"shift_id":{"type":"integer","title":"Shift Id"},"break_type":{"type":"string","title":"Break Type","description":"Type of break (regular, lunch, emergency)","default":"regular"},"notes":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Notes"}},"type":"object","required":["shift_id"],"title":"BreakRequest","description":"Schema for break start/end requests"},"BulkAuditCleanupRequest":{"properties":{"days_to_keep":{"type":"integer","maximum":3650.0,"minimum":1.0,"title":"Days To Keep","description":"Number of days to keep logs (1-3650)","default":365},"confirm":{"type":"boolean","title":"Confirm","description":"Confirmation flag to prevent accidental deletion"}},"type":"object","required":["confirm"],"title":"BulkAuditCleanupRequest","description":"Schema for bulk audit log cleanup"},"BulkSettingsUpdate":{"properties":{"settings":{"type":"object","title":"Settings","description":"Dictionary of setting_key: new_value"},"updated_by":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Updated By","description":"Who is updating these settings"}},"type":"object","required":["settings"],"title":"BulkSettingsUpdate","description":"Schema for bulk settings update"},"BulkShiftResponse":{"properties":{"created_count":{"type":"integer","title":"Created Count"},"updated_count":{"type":"integer","title":"Updated Count"},"failed_count":{"type":"integer","title":"Failed Count"},"errors":{"items":{"type":"string"},"type":"array","title":"Errors","default":[]},"created_shifts":{"items":{"$ref":"#/components/schemas/ShiftRead"},"type":"array","title":"Created Shifts","default":[]}},"type":"object","required":["created_count","updated_count","failed_count"],"title":"BulkShiftResponse","description":"Schema for bulk shift operation responses"},"BulkUploadResponse":{"properties":{"uploaded_files":{"items":{"$ref":"#/components/schemas/FileUploadResponse"},"type":"array","title":"Uploaded Files"},"failed_uploads":{"items":{"type":"object"},"type":"array","title":"Failed Uploads"},"total_uploaded":{"type":"integer","title":"Total Uploaded"},"total_failed":{"type":"integer","title":"Total Failed"}},"type":"object","required":["uploaded_files","failed_uploads","total_uploaded","total_failed"],"title":"BulkUploadResponse","description":"Response schema for bulk file upload."},"CheckinTypeEnum":{"type":"string","enum":["clock_in","clock_out","break_start","break_end","overtime_start","overtime_end"],"title":"CheckinTypeEnum","description":"Check-in type enumeration for API"},"CheckpointCreate":{"properties":{"site_id":{"type":"integer","title":"Site Id"},"location_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Location Id"},"area_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Area Id"},"name":{"type":"string","title":"Name"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"latitude":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Latitude"},"longitude":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Longitude"},"qr_code":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Qr Code"},"nfc_tag_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Nfc Tag Id"},"order_sequence":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Order Sequence","default":1},"is_mandatory":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Is Mandatory","default":true},"time_limit_minutes":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Time Limit Minutes"},"is_active":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Is Active","default":true},"checkpoint_type":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Checkpoint Type","default":"patrol"}},"type":"object","required":["site_id","name"],"title":"CheckpointCreate"},"CheckpointPhotoRead":{"properties":{"file_path":{"type":"string","title":"File Path"},"file_type":{"type":"string","title":"File Type"},"file_size":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"File Size"},"caption":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Caption"},"id":{"type":"integer","title":"Id"},"checkpoint_id":{"type":"integer","title":"Checkpoint Id"},"visit_id":{"type":"integer","title":"Visit Id"},"uploaded_at":{"type":"string","format":"date-time","title":"Uploaded At"}},"type":"object","required":["file_path","file_type","id","checkpoint_id","visit_id","uploaded_at"],"title":"CheckpointPhotoRead"},"CheckpointRead":{"properties":{"site_id":{"type":"integer","title":"Site Id"},"location_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Location Id"},"area_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Area Id"},"name":{"type":"string","title":"Name"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"latitude":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Latitude"},"longitude":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Longitude"},"qr_code":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Qr Code"},"nfc_tag_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Nfc Tag Id"},"order_sequence":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Order Sequence","default":1},"is_mandatory":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Is Mandatory","default":true},"time_limit_minutes":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Time Limit Minutes"},"is_active":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Is Active","default":true},"checkpoint_type":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Checkpoint Type","default":"patrol"},"id":{"type":"integer","title":"Id"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"type":"string","format":"date-time","title":"Updated At"}},"type":"object","required":["site_id","name","id","created_at","updated_at"],"title":"CheckpointRead"},"CheckpointUpdate":{"properties":{"name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Name"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"latitude":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Latitude"},"longitude":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Longitude"},"qr_code":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Qr Code"},"nfc_tag_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Nfc Tag Id"},"order_sequence":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Order Sequence"},"is_mandatory":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Is Mandatory"},"time_limit_minutes":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Time Limit Minutes"},"is_active":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Is Active"},"checkpoint_type":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Checkpoint Type"}},"type":"object","title":"CheckpointUpdate"},"CheckpointVisitRead":{"properties":{"checkpoint_id":{"type":"integer","title":"Checkpoint Id"},"user_id":{"type":"integer","title":"User Id"},"patrol_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Patrol Id"},"visited_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Visited At"},"latitude":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Latitude"},"longitude":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Longitude"},"notes":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Notes"},"scan_method":{"anyOf":[{"$ref":"#/components/schemas/ScanMethod"},{"type":"null"}],"default":"manual"},"id":{"type":"integer","title":"Id"},"photos":{"anyOf":[{"items":{"$ref":"#/components/schemas/CheckpointPhotoRead"},"type":"array"},{"type":"null"}],"title":"Photos","default":[]}},"type":"object","required":["checkpoint_id","user_id","id"],"title":"CheckpointVisitRead"},"CleanupStatsResponse":{"properties":{"files_deleted":{"type":"integer","title":"Files Deleted"},"storage_freed_bytes":{"type":"integer","title":"Storage Freed Bytes"},"storage_freed_mb":{"type":"number","title":"Storage Freed Mb"},"deleted_files":{"items":{"type":"object"},"type":"array","title":"Deleted Files"}},"type":"object","required":["files_deleted","storage_freed_bytes","storage_freed_mb","deleted_files"],"title":"CleanupStatsResponse","description":"Response schema for cleanup operations."},"ClockInRequest":{"properties":{"shift_id":{"type":"integer","title":"Shift Id"},"latitude":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Latitude"},"longitude":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Longitude"},"location_accuracy":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Location Accuracy"},"location_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Location Name"},"notes":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Notes"}},"type":"object","required":["shift_id"],"title":"ClockInRequest","description":"Schema for clock-in requests"},"ClockOutRequest":{"properties":{"shift_id":{"type":"integer","title":"Shift Id"},"latitude":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Latitude"},"longitude":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Longitude"},"location_accuracy":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Location Accuracy"},"location_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Location Name"},"notes":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Notes"}},"type":"object","required":["shift_id"],"title":"ClockOutRequest","description":"Schema for clock-out requests"},"DashboardCreate":{"properties":{"name":{"type":"string","title":"Name","description":"Dashboard name"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description","description":"Dashboard description"},"dashboard_type":{"type":"string","title":"Dashboard Type","description":"Dashboard type","default":"custom"},"config":{"type":"object","title":"Config","description":"Dashboard configuration"},"layout":{"type":"object","title":"Layout","description":"Layout configuration"},"filters":{"type":"object","title":"Filters","description":"Default filters"},"is_public":{"type":"boolean","title":"Is Public","description":"Whether dashboard is public","default":false},"is_default":{"type":"boolean","title":"Is Default","description":"Whether this is user's default dashboard","default":false},"widgets":{"anyOf":[{"items":{"$ref":"#/components/schemas/DashboardWidgetCreate"},"type":"array"},{"type":"null"}],"title":"Widgets","description":"Initial widgets"}},"type":"object","required":["name"],"title":"DashboardCreate","description":"Schema for creating a dashboard."},"DashboardListResponse":{"properties":{"id":{"type":"integer","title":"Id"},"name":{"type":"string","title":"Name"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"dashboard_type":{"type":"string","title":"Dashboard Type"},"is_public":{"type":"boolean","title":"Is Public"},"is_default":{"type":"boolean","title":"Is Default"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"type":"string","format":"date-time","title":"Updated At"},"widget_count":{"type":"integer","title":"Widget Count"}},"type":"object","required":["id","name","description","dashboard_type","is_public","is_default","created_at","updated_at","widget_count"],"title":"DashboardListResponse","description":"Schema for dashboard list response."},"DashboardResponse":{"properties":{"id":{"type":"integer","title":"Id"},"name":{"type":"string","title":"Name"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"dashboard_type":{"type":"string","title":"Dashboard Type"},"config":{"type":"object","title":"Config"},"layout":{"type":"object","title":"Layout"},"filters":{"type":"object","title":"Filters"},"user_id":{"type":"integer","title":"User Id"},"is_public":{"type":"boolean","title":"Is Public"},"is_default":{"type":"boolean","title":"Is Default"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"type":"string","format":"date-time","title":"Updated At"},"widgets":{"items":{"$ref":"#/components/schemas/DashboardWidgetResponse"},"type":"array","title":"Widgets"}},"type":"object","required":["id","name","description","dashboard_type","config","layout","filters","user_id","is_public","is_default","created_at","updated_at","widgets"],"title":"DashboardResponse","description":"Schema for dashboard response."},"DashboardTemplate":{"properties":{"name":{"type":"string","title":"Name"},"description":{"type":"string","title":"Description"},"dashboard_type":{"type":"string","title":"Dashboard Type"},"config":{"type":"object","title":"Config"},"layout":{"type":"object","title":"Layout"},"widgets":{"items":{"$ref":"#/components/schemas/DashboardWidgetCreate"},"type":"array","title":"Widgets"}},"type":"object","required":["name","description","dashboard_type","config","layout","widgets"],"title":"DashboardTemplate","description":"Schema for dashboard template."},"DashboardUpdate":{"properties":{"name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Name"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"config":{"anyOf":[{"type":"object"},{"type":"null"}],"title":"Config"},"layout":{"anyOf":[{"type":"object"},{"type":"null"}],"title":"Layout"},"filters":{"anyOf":[{"type":"object"},{"type":"null"}],"title":"Filters"},"is_public":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Is Public"},"is_default":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Is Default"}},"type":"object","title":"DashboardUpdate","description":"Schema for updating a dashboard."},"DashboardWidgetCreate":{"properties":{"widget_type":{"type":"string","title":"Widget Type","description":"Type of widget (chart, metric, table, alert)"},"widget_title":{"type":"string","title":"Widget Title","description":"Display title for the widget"},"position":{"allOf":[{"$ref":"#/components/schemas/DashboardWidgetPosition"}],"description":"Widget position and size"},"config":{"type":"object","title":"Config","description":"Widget-specific configuration"},"data_source":{"type":"object","title":"Data Source","description":"Data source configuration"},"display_options":{"type":"object","title":"Display Options","description":"Display settings"},"refresh_interval":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Refresh Interval","description":"Auto-refresh interval in seconds","default":300}},"type":"object","required":["widget_type","widget_title","position"],"title":"DashboardWidgetCreate","description":"Schema for creating a dashboard widget."},"DashboardWidgetPosition":{"properties":{"x":{"type":"integer","title":"X","description":"X coordinate on grid"},"y":{"type":"integer","title":"Y","description":"Y coordinate on grid"},"width":{"type":"integer","title":"Width","description":"Widget width in grid units"},"height":{"type":"integer","title":"Height","description":"Widget height in grid units"}},"type":"object","required":["x","y","width","height"],"title":"DashboardWidgetPosition","description":"Widget position and sizing configuration."},"DashboardWidgetResponse":{"properties":{"id":{"type":"integer","title":"Id"},"widget_type":{"type":"string","title":"Widget Type"},"widget_title":{"type":"string","title":"Widget Title"},"position":{"type":"object","title":"Position"},"config":{"type":"object","title":"Config"},"data_source":{"type":"object","title":"Data Source"},"display_options":{"type":"object","title":"Display Options"},"is_enabled":{"type":"boolean","title":"Is Enabled"},"refresh_interval":{"type":"integer","title":"Refresh Interval"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"type":"string","format":"date-time","title":"Updated At"}},"type":"object","required":["id","widget_type","widget_title","position","config","data_source","display_options","is_enabled","refresh_interval","created_at","updated_at"],"title":"DashboardWidgetResponse","description":"Schema for dashboard widget response."},"DashboardWidgetUpdate":{"properties":{"widget_title":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Widget Title"},"position":{"anyOf":[{"$ref":"#/components/schemas/DashboardWidgetPosition"},{"type":"null"}]},"config":{"anyOf":[{"type":"object"},{"type":"null"}],"title":"Config"},"data_source":{"anyOf":[{"type":"object"},{"type":"null"}],"title":"Data Source"},"display_options":{"anyOf":[{"type":"object"},{"type":"null"}],"title":"Display Options"},"is_enabled":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Is Enabled"},"refresh_interval":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Refresh Interval"}},"type":"object","title":"DashboardWidgetUpdate","description":"Schema for updating a dashboard widget."},"FileAccessResponse":{"properties":{"file_id":{"type":"integer","title":"File Id"},"original_filename":{"type":"string","title":"Original Filename"},"download_url":{"type":"string","title":"Download Url"},"expires_at":{"type":"string","format":"date-time","title":"Expires At"},"file_size":{"type":"integer","title":"File Size"},"content_type":{"type":"string","title":"Content Type"}},"type":"object","required":["file_id","original_filename","download_url","expires_at","file_size","content_type"],"title":"FileAccessResponse","description":"Response schema for file access."},"FileListResponse":{"properties":{"files":{"items":{"$ref":"#/components/schemas/FileMetadata"},"type":"array","title":"Files"},"total":{"type":"integer","title":"Total"},"page":{"type":"integer","title":"Page"},"page_size":{"type":"integer","title":"Page Size"},"total_pages":{"type":"integer","title":"Total Pages"}},"type":"object","required":["files","total","page","page_size","total_pages"],"title":"FileListResponse","description":"Response schema for file listing."},"FileMetadata":{"properties":{"id":{"type":"integer","title":"Id"},"original_filename":{"type":"string","title":"Original Filename"},"unique_filename":{"type":"string","title":"Unique Filename"},"file_type":{"type":"string","title":"File Type"},"file_extension":{"type":"string","title":"File Extension"},"file_size":{"type":"integer","title":"File Size"},"size_mb":{"type":"number","title":"Size Mb"},"storage_provider":{"type":"string","title":"Storage Provider"},"uploaded_at":{"type":"string","format":"date-time","title":"Uploaded At"},"uploaded_by":{"type":"integer","title":"Uploaded By"},"is_public":{"type":"boolean","title":"Is Public"},"is_deleted":{"type":"boolean","title":"Is Deleted"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"tags":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Tags"},"access_count":{"type":"integer","title":"Access Count"},"last_accessed":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Last Accessed"},"expires_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Expires At"}},"type":"object","required":["id","original_filename","unique_filename","file_type","file_extension","file_size","size_mb","storage_provider","uploaded_at","uploaded_by","is_public","is_deleted","access_count"],"title":"FileMetadata","description":"File metadata schema."},"FileStatsResponse":{"properties":{"total_files":{"type":"integer","title":"Total Files"},"total_size_bytes":{"type":"integer","title":"Total Size Bytes"},"total_size_mb":{"type":"number","title":"Total Size Mb"},"files_by_type":{"type":"object","title":"Files By Type"},"files_by_user":{"type":"object","title":"Files By User"},"storage_distribution":{"type":"object","title":"Storage Distribution"},"recent_uploads":{"items":{"$ref":"#/components/schemas/FileMetadata"},"type":"array","title":"Recent Uploads"}},"type":"object","required":["total_files","total_size_bytes","total_size_mb","files_by_type","files_by_user","storage_distribution","recent_uploads"],"title":"FileStatsResponse","description":"Response schema for file statistics."},"FileUpdateRequest":{"properties":{"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"tags":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Tags"},"is_public":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Is Public"},"expires_in_days":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Expires In Days"}},"type":"object","title":"FileUpdateRequest","description":"Request schema for file metadata updates."},"FileUploadResponse":{"properties":{"id":{"type":"integer","title":"Id"},"original_filename":{"type":"string","title":"Original Filename"},"unique_filename":{"type":"string","title":"Unique Filename"},"file_path":{"type":"string","title":"File Path"},"file_type":{"type":"string","title":"File Type"},"file_extension":{"type":"string","title":"File Extension"},"file_size":{"type":"integer","title":"File Size"},"size_mb":{"type":"number","title":"Size Mb"},"storage_provider":{"type":"string","title":"Storage Provider"},"bucket_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Bucket Name"},"object_key":{"type":"string","title":"Object Key"},"uploaded_at":{"type":"string","format":"date-time","title":"Uploaded At"},"is_public":{"type":"boolean","title":"Is Public"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"tags":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Tags"},"expires_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Expires At"}},"type":"object","required":["id","original_filename","unique_filename","file_path","file_type","file_extension","file_size","size_mb","storage_provider","object_key","uploaded_at","is_public"],"title":"FileUploadResponse","description":"Response schema for file upload."},"GPSLocationCreate":{"properties":{"latitude":{"type":"number","maximum":90.0,"minimum":-90.0,"title":"Latitude","description":"Latitude coordinate"},"longitude":{"type":"number","maximum":180.0,"minimum":-180.0,"title":"Longitude","description":"Longitude coordinate"},"accuracy":{"anyOf":[{"type":"number","minimum":0.0},{"type":"null"}],"title":"Accuracy","description":"GPS accuracy in meters"},"altitude":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Altitude","description":"Altitude in meters"},"heading":{"anyOf":[{"type":"number","maximum":360.0,"minimum":0.0},{"type":"null"}],"title":"Heading","description":"Direction heading in degrees"},"speed":{"anyOf":[{"type":"number","minimum":0.0},{"type":"null"}],"title":"Speed","description":"Speed in m/s"},"guard_id":{"type":"integer","title":"Guard Id","description":"ID of the guard"},"site_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Site Id","description":"ID of the site"},"status":{"allOf":[{"$ref":"#/components/schemas/LocationStatus"}],"description":"Guard status","default":"active"},"message":{"anyOf":[{"type":"string","maxLength":500},{"type":"null"}],"title":"Message","description":"Optional status message"}},"type":"object","required":["latitude","longitude","guard_id"],"title":"GPSLocationCreate","description":"GPS location data for creation."},"GPSLocationOut":{"properties":{"latitude":{"type":"number","maximum":90.0,"minimum":-90.0,"title":"Latitude","description":"Latitude coordinate"},"longitude":{"type":"number","maximum":180.0,"minimum":-180.0,"title":"Longitude","description":"Longitude coordinate"},"accuracy":{"anyOf":[{"type":"number","minimum":0.0},{"type":"null"}],"title":"Accuracy","description":"GPS accuracy in meters"},"altitude":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Altitude","description":"Altitude in meters"},"heading":{"anyOf":[{"type":"number","maximum":360.0,"minimum":0.0},{"type":"null"}],"title":"Heading","description":"Direction heading in degrees"},"speed":{"anyOf":[{"type":"number","minimum":0.0},{"type":"null"}],"title":"Speed","description":"Speed in m/s"},"id":{"type":"integer","title":"Id"},"guard_id":{"type":"integer","title":"Guard Id"},"site_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Site Id"},"status":{"$ref":"#/components/schemas/LocationStatus"},"message":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Message"},"timestamp":{"type":"string","format":"date-time","title":"Timestamp"}},"type":"object","required":["latitude","longitude","id","guard_id","site_id","status","message","timestamp"],"title":"GPSLocationOut","description":"GPS location response."},"GuardCheckinRead":{"properties":{"checkin_type":{"$ref":"#/components/schemas/CheckinTypeEnum"},"latitude":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Latitude","description":"GPS latitude"},"longitude":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Longitude","description":"GPS longitude"},"location_accuracy":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Location Accuracy","description":"GPS accuracy in meters"},"location_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Location Name","description":"Human-readable location name"},"notes":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Notes"},"id":{"type":"integer","title":"Id"},"shift_id":{"type":"integer","title":"Shift Id"},"user_id":{"type":"integer","title":"User Id"},"timestamp":{"type":"string","format":"date-time","title":"Timestamp"},"created_at":{"type":"string","format":"date-time","title":"Created At"}},"type":"object","required":["checkin_type","id","shift_id","user_id","timestamp","created_at"],"title":"GuardCheckinRead","description":"Schema for reading check-in data"},"GuardLocation":{"properties":{"guard_id":{"type":"integer","title":"Guard Id"},"guard_name":{"type":"string","title":"Guard Name"},"site_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Site Id"},"site_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Site Name"},"latitude":{"type":"number","title":"Latitude"},"longitude":{"type":"number","title":"Longitude"},"accuracy":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Accuracy"},"status":{"$ref":"#/components/schemas/app__schemas__live__GuardLocationStatus"},"last_updated":{"type":"string","format":"date-time","title":"Last Updated"},"message":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Message"}},"type":"object","required":["guard_id","guard_name","latitude","longitude","status","last_updated"],"title":"GuardLocation","description":"Current guard location for live tracking"},"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"IntegrationStatus":{"properties":{"timestamp":{"type":"string","title":"Timestamp"},"webhooks":{"additionalProperties":{"type":"integer"},"type":"object","title":"Webhooks"},"deliveries_24h":{"type":"object","title":"Deliveries 24H"},"system_health":{"type":"string","title":"System Health"}},"type":"object","required":["timestamp","webhooks","deliveries_24h","system_health"],"title":"IntegrationStatus","description":"Schema for overall integration system status."},"IssueCreate":{"properties":{"title":{"type":"string","title":"Title","description":"Brief title of the issue"},"description":{"type":"string","title":"Description","description":"Detailed description of the issue"},"severity":{"type":"string","pattern":"^(low|medium|high|critical)$","title":"Severity","description":"Issue severity level"},"site_id":{"type":"integer","title":"Site Id","description":"ID of the site where issue occurred"},"location_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Location Id","description":"ID of the location where issue occurred"},"area_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Area Id","description":"ID of the area where issue occurred"},"occurred_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Occurred At","description":"When the issue occurred"},"assigned_to":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Assigned To","description":"ID of user assigned to handle the issue"}},"type":"object","required":["title","description","severity","site_id"],"title":"IssueCreate","description":"Schema for creating a new issue. The reported_by field will be automatically set."},"IssueEvidenceRead":{"properties":{"file_path":{"type":"string","title":"File Path"},"file_type":{"type":"string","title":"File Type"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"id":{"type":"integer","title":"Id"},"issue_id":{"type":"integer","title":"Issue Id"},"uploaded_by":{"type":"integer","title":"Uploaded By"},"timestamp":{"type":"string","format":"date-time","title":"Timestamp"}},"type":"object","required":["file_path","file_type","id","issue_id","uploaded_by","timestamp"],"title":"IssueEvidenceRead"},"IssueNoteCreate":{"properties":{"note_text":{"type":"string","title":"Note Text"}},"type":"object","required":["note_text"],"title":"IssueNoteCreate"},"IssueNoteRead":{"properties":{"note_text":{"type":"string","title":"Note Text"},"id":{"type":"integer","title":"Id"},"issue_id":{"type":"integer","title":"Issue Id"},"created_by":{"type":"integer","title":"Created By"},"timestamp":{"type":"string","format":"date-time","title":"Timestamp"}},"type":"object","required":["note_text","id","issue_id","created_by","timestamp"],"title":"IssueNoteRead"},"IssueRead":{"properties":{"id":{"type":"integer","title":"Id"},"title":{"type":"string","title":"Title"},"description":{"type":"string","title":"Description"},"severity":{"type":"string","title":"Severity"},"status":{"type":"string","title":"Status"},"site_id":{"type":"integer","title":"Site Id"},"location_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Location Id"},"area_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Area Id"},"reported_by":{"type":"integer","title":"Reported By"},"assigned_to":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Assigned To"},"occurred_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Occurred At"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"type":"string","format":"date-time","title":"Updated At"}},"type":"object","required":["id","title","description","severity","status","site_id","reported_by","created_at","updated_at"],"title":"IssueRead"},"IssueUpdate":{"properties":{"title":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Title","description":"Updated issue title"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description","description":"Updated issue description"},"severity":{"anyOf":[{"type":"string","pattern":"^(low|medium|high|critical)$"},{"type":"null"}],"title":"Severity","description":"Updated severity level"},"status":{"anyOf":[{"type":"string","pattern":"^(open|in_progress|resolved|closed)$"},{"type":"null"}],"title":"Status","description":"Updated issue status"},"assigned_to":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Assigned To","description":"ID of user assigned to handle the issue"}},"type":"object","title":"IssueUpdate"},"LiveAlert":{"properties":{"id":{"type":"integer","title":"Id"},"type":{"$ref":"#/components/schemas/AlertType"},"severity":{"type":"string","title":"Severity"},"title":{"type":"string","title":"Title"},"description":{"type":"string","title":"Description"},"guard_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Guard Id"},"guard_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Guard Name"},"site_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Site Id"},"site_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Site Name"},"location":{"anyOf":[{"additionalProperties":{"type":"number"},"type":"object"},{"type":"null"}],"title":"Location"},"triggered_at":{"type":"string","format":"date-time","title":"Triggered At"},"acknowledged":{"type":"boolean","title":"Acknowledged","default":false},"acknowledged_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Acknowledged At"}},"type":"object","required":["id","type","severity","title","description","triggered_at"],"title":"LiveAlert","description":"Live alert for monitoring feed"},"LiveIncident":{"properties":{"id":{"type":"integer","title":"Id"},"title":{"type":"string","title":"Title"},"severity":{"type":"string","title":"Severity"},"status":{"type":"string","title":"Status"},"site_id":{"type":"integer","title":"Site Id"},"site_name":{"type":"string","title":"Site Name"},"reported_by":{"type":"integer","title":"Reported By"},"reporter_name":{"type":"string","title":"Reporter Name"},"assigned_to":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Assigned To"},"assignee_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Assignee Name"},"occurred_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Occurred At"},"created_at":{"type":"string","format":"date-time","title":"Created At"}},"type":"object","required":["id","title","severity","status","site_id","site_name","reported_by","reporter_name","created_at"],"title":"LiveIncident","description":"Live incident for monitoring feed"},"LiveMonitoringDashboard":{"properties":{"timestamp":{"type":"string","format":"date-time","title":"Timestamp"},"active_patrols":{"items":{"$ref":"#/components/schemas/LivePatrolStatus"},"type":"array","title":"Active Patrols"},"guard_locations":{"items":{"$ref":"#/components/schemas/GuardLocation"},"type":"array","title":"Guard Locations"},"system_health":{"$ref":"#/components/schemas/SystemHealthResponse"},"active_alerts":{"items":{"$ref":"#/components/schemas/LiveAlert"},"type":"array","title":"Active Alerts"},"open_incidents":{"items":{"$ref":"#/components/schemas/LiveIncident"},"type":"array","title":"Open Incidents"}},"type":"object","required":["timestamp","active_patrols","guard_locations","system_health","active_alerts","open_incidents"],"title":"LiveMonitoringDashboard","description":"Complete dashboard data"},"LivePatrolStatus":{"properties":{"id":{"type":"integer","title":"Id"},"name":{"type":"string","title":"Name"},"guard_id":{"type":"integer","title":"Guard Id"},"guard_name":{"type":"string","title":"Guard Name"},"site_id":{"type":"integer","title":"Site Id"},"site_name":{"type":"string","title":"Site Name"},"status":{"$ref":"#/components/schemas/PatrolStatus"},"started_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Started At"},"expected_end":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Expected End"},"current_location":{"anyOf":[{"additionalProperties":{"type":"number"},"type":"object"},{"type":"null"}],"title":"Current Location"},"checkpoints_completed":{"type":"integer","title":"Checkpoints Completed","default":0},"total_checkpoints":{"type":"integer","title":"Total Checkpoints","default":0},"last_activity":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Last Activity"}},"type":"object","required":["id","name","guard_id","guard_name","site_id","site_name","status"],"title":"LivePatrolStatus","description":"Live patrol status for dashboard monitoring"},"LocationCreate":{"properties":{"name":{"type":"string","title":"Name"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"latitude":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Latitude"},"longitude":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Longitude"},"floor_level":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Floor Level"},"qr_code_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Qr Code Id"},"nfc_tag_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Nfc Tag Id"}},"type":"object","required":["name"],"title":"LocationCreate"},"LocationRead":{"properties":{"name":{"type":"string","title":"Name"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"latitude":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Latitude"},"longitude":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Longitude"},"floor_level":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Floor Level"},"qr_code_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Qr Code Id"},"nfc_tag_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Nfc Tag Id"},"id":{"type":"integer","title":"Id"},"site_id":{"type":"integer","title":"Site Id"}},"type":"object","required":["name","id","site_id"],"title":"LocationRead"},"LocationStatus":{"type":"string","enum":["active","sos","offline","break","patrol"],"title":"LocationStatus","description":"Guard location status for tracking."},"LocationUpdate":{"properties":{"name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Name"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"latitude":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Latitude"},"longitude":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Longitude"},"floor_level":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Floor Level"},"qr_code_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Qr Code Id"},"nfc_tag_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Nfc Tag Id"}},"type":"object","title":"LocationUpdate"},"MessageCreate":{"properties":{"content":{"type":"string","title":"Content","example":"This is a message."},"type":{"type":"string","enum":["normal","sos"],"title":"Type","default":"normal","example":"normal"},"recipient_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Recipient Id","description":"User ID of the recipient. Null for group/broadcast."},"group_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Group Id","description":"Group ID for group messages."},"voice_call":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Voice Call","description":"Whether to initiate a voice call along with this message.","default":false}},"type":"object","required":["content"],"title":"MessageCreate"},"MessageOut":{"properties":{"content":{"type":"string","title":"Content","example":"This is a message."},"type":{"type":"string","enum":["normal","sos"],"title":"Type","default":"normal","example":"normal"},"recipient_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Recipient Id","description":"User ID of the recipient. Null for group/broadcast."},"group_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Group Id","description":"Group ID for group messages."},"voice_call":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Voice Call","description":"Whether to initiate a voice call along with this message.","default":false},"id":{"type":"integer","title":"Id"},"sender_id":{"type":"integer","title":"Sender Id"},"is_read":{"type":"boolean","title":"Is Read"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"sender_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Sender Name","description":"Name of the message sender"}},"type":"object","required":["content","id","sender_id","is_read","created_at"],"title":"MessageOut"},"MobileAppInfo":{"properties":{"api_version":{"type":"string","title":"Api Version"},"min_app_version":{"type":"string","title":"Min App Version"},"features":{"$ref":"#/components/schemas/MobileFeatureFlags"},"sync_interval":{"type":"integer","title":"Sync Interval","default":300},"max_offline_days":{"type":"integer","title":"Max Offline Days","default":7},"max_batch_size":{"type":"integer","title":"Max Batch Size","default":100}},"type":"object","required":["api_version","min_app_version","features"],"title":"MobileAppInfo","description":"Mobile app configuration info"},"MobileBulkUpload":{"properties":{"checkpoint_visits":{"items":{"type":"object"},"type":"array","title":"Checkpoint Visits"},"incidents":{"items":{"type":"object"},"type":"array","title":"Incidents"},"patrol_updates":{"items":{"type":"object"},"type":"array","title":"Patrol Updates"},"device_id":{"type":"string","title":"Device Id"}},"type":"object","required":["device_id"],"title":"MobileBulkUpload","description":"Bulk upload for offline data"},"MobileCheckpoint":{"properties":{"id":{"type":"integer","title":"Id"},"name":{"type":"string","title":"Name"},"lat":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Lat"},"lon":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Lon"},"qr_code":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Qr Code"},"nfc_tag":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Nfc Tag"},"is_required":{"type":"boolean","title":"Is Required","default":true},"order":{"type":"integer","title":"Order","default":0}},"type":"object","required":["id","name"],"title":"MobileCheckpoint","description":"Minimal checkpoint data for mobile apps"},"MobileCheckpointVisit":{"properties":{"checkpoint_id":{"type":"integer","title":"Checkpoint Id"},"lat":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Lat"},"lon":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Lon"},"notes":{"anyOf":[{"type":"string","maxLength":500},{"type":"null"}],"title":"Notes"},"scan_method":{"type":"string","title":"Scan Method","default":"manual"}},"type":"object","required":["checkpoint_id"],"title":"MobileCheckpointVisit","description":"Schema for mobile checkpoint visits"},"MobileCheckpointVisitRequest":{"properties":{"checkpoint_id":{"type":"integer","title":"Checkpoint Id"},"patrol_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Patrol Id"},"lat":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Lat"},"lon":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Lon"},"method":{"type":"string","title":"Method","default":"manual"},"notes":{"anyOf":[{"type":"string","maxLength":250},{"type":"null"}],"title":"Notes"},"photo_count":{"type":"integer","title":"Photo Count","default":0}},"type":"object","required":["checkpoint_id"],"title":"MobileCheckpointVisitRequest","description":"Optimized checkpoint visit request"},"MobileConflictResolution":{"properties":{"conflict_id":{"type":"string","title":"Conflict Id"},"resolution":{"type":"string","pattern":"^(client|server|merge)$","title":"Resolution"},"merged_data":{"anyOf":[{"type":"object"},{"type":"null"}],"title":"Merged Data"}},"type":"object","required":["conflict_id","resolution"],"title":"MobileConflictResolution","description":"Conflict resolution from mobile"},"MobileDeviceUpdate":{"properties":{"device_id":{"anyOf":[{"type":"string","maxLength":255},{"type":"null"}],"title":"Device Id"},"device_type":{"anyOf":[{"type":"string","maxLength":50},{"type":"null"}],"title":"Device Type"},"fcm_token":{"anyOf":[{"type":"string","maxLength":500},{"type":"null"}],"title":"Fcm Token"},"app_version":{"anyOf":[{"type":"string","maxLength":20},{"type":"null"}],"title":"App Version"}},"type":"object","title":"MobileDeviceUpdate","description":"Update mobile device info"},"MobileDownloadRequest":{"properties":{"last_update":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Last Update"},"include_types":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Include Types","description":"Types to include in download"},"site_ids":{"anyOf":[{"items":{"type":"integer"},"type":"array"},{"type":"null"}],"title":"Site Ids","description":"Filter by site IDs"}},"type":"object","title":"MobileDownloadRequest","description":"Download request for mobile sync"},"MobileDownloadResponse":{"properties":{"timestamp":{"type":"string","format":"date-time","title":"Timestamp"},"patrols":{"items":{"type":"object"},"type":"array","title":"Patrols"},"checkpoints":{"items":{"type":"object"},"type":"array","title":"Checkpoints"},"incidents":{"items":{"type":"object"},"type":"array","title":"Incidents"},"sites":{"items":{"type":"object"},"type":"array","title":"Sites"},"users":{"items":{"type":"object"},"type":"array","title":"Users"},"has_more":{"type":"boolean","title":"Has More","default":false}},"type":"object","required":["timestamp"],"title":"MobileDownloadResponse","description":"Download response for mobile sync"},"MobileEmergencyContact":{"properties":{"name":{"type":"string","title":"Name"},"phone":{"type":"string","title":"Phone"},"role":{"type":"string","title":"Role"},"is_primary":{"type":"boolean","title":"Is Primary","default":false}},"type":"object","required":["name","phone","role"],"title":"MobileEmergencyContact","description":"Emergency contact info for mobile"},"MobileEmergencyInfo":{"properties":{"emergency_number":{"type":"string","title":"Emergency Number"},"local_police":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Local Police"},"local_fire":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Local Fire"},"supervisor_phone":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Supervisor Phone"},"site_emergency_plan":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Site Emergency Plan"},"evacuation_points":{"anyOf":[{"items":{},"type":"array"},{"type":"null"}],"title":"Evacuation Points"}},"type":"object","required":["emergency_number"],"title":"MobileEmergencyInfo","description":"Emergency information for mobile"},"MobileEmergencyResponse":{"properties":{"id":{"type":"integer","title":"Id"},"status":{"type":"string","title":"Status"},"triggered_at":{"type":"string","format":"date-time","title":"Triggered At"},"acknowledged_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Acknowledged At"},"response_eta":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Response Eta"},"responder_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Responder Name"},"message":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Message"}},"type":"object","required":["id","status","triggered_at"],"title":"MobileEmergencyResponse","description":"Emergency alert response for mobile"},"MobileEmergencyTrigger":{"properties":{"lat":{"anyOf":[{"type":"number","maximum":90.0,"minimum":-90.0},{"type":"null"}],"title":"Lat","description":"GPS latitude"},"lon":{"anyOf":[{"type":"number","maximum":180.0,"minimum":-180.0},{"type":"null"}],"title":"Lon","description":"GPS longitude"},"accuracy":{"anyOf":[{"type":"number","minimum":0.0},{"type":"null"}],"title":"Accuracy","description":"GPS accuracy in meters"},"reason":{"anyOf":[{"type":"string","maxLength":200},{"type":"null"}],"title":"Reason","description":"Brief reason"},"severity":{"type":"string","pattern":"^(low|medium|high|critical)$","title":"Severity","default":"high"},"location_name":{"anyOf":[{"type":"string","maxLength":200},{"type":"null"}],"title":"Location Name"}},"type":"object","title":"MobileEmergencyTrigger","description":"Emergency alert trigger for mobile apps"},"MobileEmergencyUpdate":{"properties":{"status":{"type":"string","pattern":"^(safe|still_in_danger|resolved)$","title":"Status"},"notes":{"anyOf":[{"type":"string","maxLength":300},{"type":"null"}],"title":"Notes"}},"type":"object","required":["status"],"title":"MobileEmergencyUpdate","description":"Emergency status update for mobile"},"MobileFeatureFlags":{"properties":{"enhanced_sync":{"type":"boolean","title":"Enhanced Sync","default":false},"bulk_operations":{"type":"boolean","title":"Bulk Operations","default":false},"offline_photos":{"type":"boolean","title":"Offline Photos","default":false},"push_notifications":{"type":"boolean","title":"Push Notifications","default":false},"nfc_scanning":{"type":"boolean","title":"Nfc Scanning","default":false}},"type":"object","title":"MobileFeatureFlags","description":"Feature flags for mobile app"},"MobileHealthCheck":{"properties":{"status":{"type":"string","title":"Status"},"api_version":{"type":"string","title":"Api Version"},"server_time":{"type":"string","format":"date-time","title":"Server Time"},"database_status":{"type":"string","title":"Database Status"},"redis_status":{"type":"string","title":"Redis Status"},"response_time_ms":{"type":"number","title":"Response Time Ms"},"supported_features":{"items":{"type":"string"},"type":"array","title":"Supported Features"}},"type":"object","required":["status","api_version","server_time","database_status","redis_status","response_time_ms","supported_features"],"title":"MobileHealthCheck","description":"Mobile health check response"},"MobileIncidentCreate":{"properties":{"title":{"type":"string","maxLength":200,"title":"Title"},"description":{"type":"string","maxLength":1000,"title":"Description"},"severity":{"type":"string","pattern":"^(low|medium|high|critical)$","title":"Severity"},"location_name":{"anyOf":[{"type":"string","maxLength":200},{"type":"null"}],"title":"Location Name"},"lat":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Lat","description":"Latitude"},"lon":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Lon","description":"Longitude"},"site_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Site Id"},"patrol_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Patrol Id"}},"type":"object","required":["title","description","severity"],"title":"MobileIncidentCreate","description":"Simplified incident creation for mobile"},"MobileIncidentNote":{"properties":{"note_text":{"type":"string","maxLength":500,"title":"Note Text"}},"type":"object","required":["note_text"],"title":"MobileIncidentNote","description":"Mobile incident note"},"MobileIncidentNoteResponse":{"properties":{"id":{"type":"integer","title":"Id"},"note_text":{"type":"string","title":"Note Text"},"author":{"type":"string","title":"Author"},"created_at":{"type":"string","format":"date-time","title":"Created At"}},"type":"object","required":["id","note_text","author","created_at"],"title":"MobileIncidentNoteResponse","description":"Mobile incident note response"},"MobileIncidentResponse":{"properties":{"id":{"type":"integer","title":"Id"},"title":{"type":"string","title":"Title"},"description":{"type":"string","title":"Description"},"severity":{"type":"string","title":"Severity"},"status":{"type":"string","title":"Status"},"location_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Location Name"},"reported_by":{"type":"string","title":"Reported By"},"assigned_to":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Assigned To"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"type":"string","format":"date-time","title":"Updated At"}},"type":"object","required":["id","title","description","severity","status","reported_by","created_at","updated_at"],"title":"MobileIncidentResponse","description":"Lightweight incident response for mobile"},"MobileIncidentSummary":{"properties":{"id":{"type":"integer","title":"Id"},"title":{"type":"string","title":"Title"},"severity":{"type":"string","title":"Severity"},"status":{"type":"string","title":"Status"},"location_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Location Name"},"created_at":{"type":"string","format":"date-time","title":"Created At"}},"type":"object","required":["id","title","severity","status","created_at"],"title":"MobileIncidentSummary","description":"Minimal incident summary for mobile lists"},"MobileIncidentUpdate":{"properties":{"title":{"anyOf":[{"type":"string","maxLength":200},{"type":"null"}],"title":"Title"},"description":{"anyOf":[{"type":"string","maxLength":1000},{"type":"null"}],"title":"Description"},"severity":{"anyOf":[{"type":"string","pattern":"^(low|medium|high|critical)$"},{"type":"null"}],"title":"Severity"},"status":{"anyOf":[{"type":"string","pattern":"^(open|in_progress|resolved|closed)$"},{"type":"null"}],"title":"Status"}},"type":"object","title":"MobileIncidentUpdate","description":"Simplified incident update for mobile"},"MobileListResponse":{"properties":{"items":{"items":{},"type":"array","title":"Items"},"total":{"type":"integer","title":"Total"},"page":{"type":"integer","title":"Page","default":1},"has_more":{"type":"boolean","title":"Has More","default":false},"next_cursor":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Next Cursor"}},"type":"object","required":["items","total"],"title":"MobileListResponse","description":"Generic paginated list response for mobile"},"MobileLoginRequest":{"properties":{"username":{"type":"string","maxLength":50,"minLength":3,"title":"Username"},"password":{"type":"string","minLength":6,"title":"Password"},"device_id":{"anyOf":[{"type":"string","maxLength":255},{"type":"null"}],"title":"Device Id","description":"Mobile device identifier"},"device_type":{"anyOf":[{"type":"string","maxLength":50},{"type":"null"}],"title":"Device Type","description":"Device type (ios/android)"},"fcm_token":{"anyOf":[{"type":"string","maxLength":500},{"type":"null"}],"title":"Fcm Token","description":"Firebase Cloud Messaging token"}},"type":"object","required":["username","password"],"title":"MobileLoginRequest","description":"Simplified login for mobile apps"},"MobileLoginResponse":{"properties":{"access_token":{"type":"string","title":"Access Token"},"token_type":{"type":"string","title":"Token Type","default":"bearer"},"expires_in":{"type":"integer","title":"Expires In"},"user_id":{"type":"integer","title":"User Id"},"username":{"type":"string","title":"Username"},"full_name":{"type":"string","title":"Full Name"},"role":{"type":"string","title":"Role"},"permissions":{"items":{},"type":"array","title":"Permissions"},"site_ids":{"anyOf":[{"items":{},"type":"array"},{"type":"null"}],"title":"Site Ids"}},"type":"object","required":["access_token","expires_in","user_id","username","full_name","role","permissions"],"title":"MobileLoginResponse","description":"Lightweight login response for mobile"},"MobileMetricsReport":{"properties":{"device_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Device Id"},"app_version":{"type":"string","title":"App Version"},"platform":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Platform"},"session_duration":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Session Duration"},"actions_performed":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Actions Performed"},"errors_encountered":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Errors Encountered"},"network_type":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Network Type"},"battery_level":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Battery Level"},"timestamp":{"type":"string","format":"date-time","title":"Timestamp"}},"type":"object","required":["app_version","timestamp"],"title":"MobileMetricsReport","description":"Mobile metrics reporting"},"MobileNetworkInfo":{"properties":{"connection_type":{"type":"string","title":"Connection Type"},"estimated_bandwidth":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Estimated Bandwidth"},"latency":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Latency"},"recommended_sync_interval":{"type":"integer","title":"Recommended Sync Interval"},"bulk_operations_enabled":{"type":"boolean","title":"Bulk Operations Enabled"},"image_compression_level":{"type":"string","title":"Image Compression Level"}},"type":"object","required":["connection_type","recommended_sync_interval","bulk_operations_enabled","image_compression_level"],"title":"MobileNetworkInfo","description":"Network information for mobile optimization"},"MobilePanicAlertResponse":{"properties":{"id":{"type":"integer","title":"Id"},"status":{"$ref":"#/components/schemas/AlertStatusEnum"},"triggered_at":{"type":"string","format":"date-time","title":"Triggered At"},"acknowledged_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Acknowledged At"}},"type":"object","required":["id","status","triggered_at","acknowledged_at"],"title":"MobilePanicAlertResponse","description":"Minimal panic alert response for mobile apps"},"MobilePanicAlertTrigger":{"properties":{"lat":{"anyOf":[{"type":"number","maximum":90.0,"minimum":-90.0},{"type":"null"}],"title":"Lat","description":"Latitude"},"lon":{"anyOf":[{"type":"number","maximum":180.0,"minimum":-180.0},{"type":"null"}],"title":"Lon","description":"Longitude"},"accuracy":{"anyOf":[{"type":"number","minimum":0.0},{"type":"null"}],"title":"Accuracy","description":"GPS accuracy in meters"},"reason":{"anyOf":[{"type":"string","maxLength":100},{"type":"null"}],"title":"Reason","description":"Reason for alert"},"severity":{"allOf":[{"$ref":"#/components/schemas/AlertSeverityEnum"}],"description":"Alert severity","default":"high"}},"type":"object","title":"MobilePanicAlertTrigger","description":"Minimal panic alert trigger for mobile apps"},"MobilePasswordChange":{"properties":{"current_password":{"type":"string","minLength":6,"title":"Current Password"},"new_password":{"type":"string","minLength":6,"title":"New Password"}},"type":"object","required":["current_password","new_password"],"title":"MobilePasswordChange","description":"Password change for mobile"},"MobilePatrolActionRequest":{"properties":{"action":{"type":"string","title":"Action"},"lat":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Lat"},"lon":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Lon"},"notes":{"anyOf":[{"type":"string","maxLength":250},{"type":"null"}],"title":"Notes"}},"type":"object","required":["action"],"title":"MobilePatrolActionRequest","description":"Optimized patrol action request"},"MobilePatrolEnd":{"properties":{"lat":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Lat","description":"Ending location latitude"},"lon":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Lon","description":"Ending location longitude"},"notes":{"anyOf":[{"type":"string","maxLength":500},{"type":"null"}],"title":"Notes"},"summary":{"anyOf":[{"type":"string","maxLength":1000},{"type":"null"}],"title":"Summary"}},"type":"object","title":"MobilePatrolEnd","description":"Schema for ending a patrol on mobile"},"MobilePatrolStart":{"properties":{"lat":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Lat","description":"Starting location latitude"},"lon":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Lon","description":"Starting location longitude"},"notes":{"anyOf":[{"type":"string","maxLength":500},{"type":"null"}],"title":"Notes"}},"type":"object","title":"MobilePatrolStart","description":"Schema for starting a patrol on mobile"},"MobilePerformanceMetrics":{"properties":{"api_response_time":{"type":"number","title":"Api Response Time"},"database_query_time":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Database Query Time"},"total_requests":{"type":"integer","title":"Total Requests"},"error_rate":{"type":"number","title":"Error Rate"},"server_health":{"type":"string","title":"Server Health"},"timestamp":{"type":"string","format":"date-time","title":"Timestamp"}},"type":"object","required":["api_response_time","total_requests","error_rate","server_health","timestamp"],"title":"MobilePerformanceMetrics","description":"Mobile app performance metrics"},"MobileSOSRequest":{"properties":{"lat":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Lat"},"lon":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Lon"},"message":{"anyOf":[{"type":"string","maxLength":100},{"type":"null"}],"title":"Message"}},"type":"object","title":"MobileSOSRequest","description":"Quick SOS request for mobile"},"MobileSyncItem":{"properties":{"item_type":{"type":"string","title":"Item Type","description":"Type of item (checkpoint_visit, incident, etc.)"},"item_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Item Id","description":"Client-side temporary ID"},"action":{"type":"string","title":"Action","description":"create, update, delete"},"data":{"type":"object","title":"Data","description":"Item data"},"timestamp":{"type":"string","format":"date-time","title":"Timestamp","description":"Client timestamp"},"offline_created":{"type":"boolean","title":"Offline Created","description":"Created while offline","default":false}},"type":"object","required":["item_type","action","data","timestamp"],"title":"MobileSyncItem","description":"Individual sync item for mobile"},"MobileSyncRequest":{"properties":{"device_id":{"type":"string","maxLength":255,"title":"Device Id"},"last_sync":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Last Sync","description":"Last successful sync timestamp"},"items":{"items":{"$ref":"#/components/schemas/MobileSyncItem"},"type":"array","title":"Items"}},"type":"object","required":["device_id"],"title":"MobileSyncRequest","description":"Sync request from mobile app"},"MobileSyncResponse":{"properties":{"sync_timestamp":{"type":"string","format":"date-time","title":"Sync Timestamp"},"success_count":{"type":"integer","title":"Success Count"},"error_count":{"type":"integer","title":"Error Count"},"conflicts":{"items":{"type":"object"},"type":"array","title":"Conflicts"},"server_updates":{"items":{"type":"object"},"type":"array","title":"Server Updates"},"errors":{"items":{"type":"object"},"type":"array","title":"Errors"}},"type":"object","required":["sync_timestamp","success_count","error_count"],"title":"MobileSyncResponse","description":"Sync response to mobile app"},"MobileTokenRefresh":{"properties":{"access_token":{"type":"string","title":"Access Token"},"token_type":{"type":"string","title":"Token Type","default":"bearer"},"expires_in":{"type":"integer","title":"Expires In"}},"type":"object","required":["access_token","expires_in"],"title":"MobileTokenRefresh","description":"Token refresh response for mobile"},"NotificationCreate":{"properties":{"title":{"type":"string","title":"Title"},"message":{"type":"string","title":"Message"},"priority":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Priority","default":"medium"},"channels":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Channels"},"event_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Event Id"},"event_type":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Event Type"},"delivery_method":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Delivery Method","default":"websocket"}},"type":"object","required":["title","message"],"title":"NotificationCreate"},"NotificationDeliveryTrack":{"properties":{"notification_id":{"type":"integer","title":"Notification Id"},"delivery_status":{"type":"string","title":"Delivery Status"},"delivery_method":{"type":"string","title":"Delivery Method"},"delivered_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Delivered At"},"delivery_metadata":{"anyOf":[{"type":"object"},{"type":"null"}],"title":"Delivery Metadata"}},"type":"object","required":["notification_id","delivery_status","delivery_method"],"title":"NotificationDeliveryTrack","description":"Schema for tracking notification delivery."},"NotificationRead":{"properties":{"title":{"type":"string","title":"Title"},"message":{"type":"string","title":"Message"},"priority":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Priority","default":"medium"},"channels":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Channels"},"id":{"type":"integer","title":"Id"},"user_id":{"type":"integer","title":"User Id"},"is_read":{"type":"boolean","title":"Is Read"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"event_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Event Id"},"event_type":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Event Type"},"delivery_status":{"type":"string","title":"Delivery Status"},"delivery_method":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Delivery Method"},"delivered_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Delivered At"},"delivery_attempts":{"type":"integer","title":"Delivery Attempts"},"delivery_metadata":{"anyOf":[{"type":"object"},{"type":"null"}],"title":"Delivery Metadata"}},"type":"object","required":["title","message","id","user_id","is_read","created_at","delivery_status","delivery_attempts"],"title":"NotificationRead"},"NotificationStats":{"properties":{"total_notifications":{"type":"integer","title":"Total Notifications"},"unread_count":{"type":"integer","title":"Unread Count"},"delivery_stats":{"additionalProperties":{"type":"integer"},"type":"object","title":"Delivery Stats"},"priority_breakdown":{"additionalProperties":{"type":"integer"},"type":"object","title":"Priority Breakdown"},"recent_events":{"items":{"type":"string"},"type":"array","title":"Recent Events"}},"type":"object","required":["total_notifications","unread_count","delivery_stats","priority_breakdown","recent_events"],"title":"NotificationStats","description":"Schema for notification statistics."},"OrphanedFileResponse":{"properties":{"file_id":{"type":"integer","title":"File Id"},"original_filename":{"type":"string","title":"Original Filename"},"file_path":{"type":"string","title":"File Path"},"file_size":{"type":"integer","title":"File Size"},"uploaded_at":{"type":"string","format":"date-time","title":"Uploaded At"},"last_accessed":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Last Accessed"},"reason":{"type":"string","title":"Reason"}},"type":"object","required":["file_id","original_filename","file_path","file_size","uploaded_at","reason"],"title":"OrphanedFileResponse","description":"Response schema for orphaned file detection."},"OvertimeRequest":{"properties":{"shift_id":{"type":"integer","title":"Shift Id"},"reason":{"type":"string","title":"Reason","description":"Reason for overtime request"},"estimated_hours":{"anyOf":[{"type":"number","exclusiveMinimum":0.0},{"type":"null"}],"title":"Estimated Hours","description":"Estimated overtime hours"}},"type":"object","required":["shift_id","reason"],"title":"OvertimeRequest","description":"Schema for overtime requests"},"PanicAlertAcknowledge":{"properties":{"acknowledgment_notes":{"anyOf":[{"type":"string","maxLength":500},{"type":"null"}],"title":"Acknowledgment Notes","description":"Notes about acknowledgment"}},"type":"object","title":"PanicAlertAcknowledge","description":"Schema for acknowledging a panic alert"},"PanicAlertListResponse":{"properties":{"alerts":{"items":{"$ref":"#/components/schemas/PanicAlertSummary"},"type":"array","title":"Alerts"},"total":{"type":"integer","title":"Total"},"page":{"type":"integer","title":"Page"},"size":{"type":"integer","title":"Size"},"total_pages":{"type":"integer","title":"Total Pages"}},"type":"object","required":["alerts","total","page","size","total_pages"],"title":"PanicAlertListResponse","description":"Response schema for paginated panic alert lists"},"PanicAlertRead":{"properties":{"id":{"type":"integer","title":"Id"},"guard_id":{"type":"integer","title":"Guard Id"},"reason":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Reason"},"severity":{"$ref":"#/components/schemas/AlertSeverityEnum"},"status":{"$ref":"#/components/schemas/AlertStatusEnum"},"location_lat":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Location Lat"},"location_lon":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Location Lon"},"location_accuracy":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Location Accuracy"},"location_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Location Name"},"triggered_at":{"type":"string","format":"date-time","title":"Triggered At"},"acknowledged_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Acknowledged At"},"acknowledged_by":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Acknowledged By"},"resolved_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Resolved At"},"resolved_by":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Resolved By"},"resolution_notes":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Resolution Notes"},"response_time_seconds":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Response Time Seconds"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"type":"string","format":"date-time","title":"Updated At"},"is_active":{"type":"boolean","title":"Is Active"},"response_time":{"type":"integer","title":"Response Time"}},"type":"object","required":["id","guard_id","reason","severity","status","location_lat","location_lon","location_accuracy","location_name","triggered_at","acknowledged_at","acknowledged_by","resolved_at","resolved_by","resolution_notes","response_time_seconds","created_at","updated_at","is_active","response_time"],"title":"PanicAlertRead","description":"Full panic alert response with all details"},"PanicAlertResolve":{"properties":{"resolution_notes":{"anyOf":[{"type":"string","maxLength":1000},{"type":"null"}],"title":"Resolution Notes","description":"Notes about resolution"},"is_false_alarm":{"type":"boolean","title":"Is False Alarm","description":"Whether this was a false alarm","default":false}},"type":"object","title":"PanicAlertResolve","description":"Schema for resolving a panic alert"},"PanicAlertStats":{"properties":{"total_alerts":{"type":"integer","title":"Total Alerts"},"active_alerts":{"type":"integer","title":"Active Alerts"},"resolved_alerts":{"type":"integer","title":"Resolved Alerts"},"false_alarms":{"type":"integer","title":"False Alarms"},"average_response_time_seconds":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Average Response Time Seconds"},"alerts_by_severity":{"type":"object","title":"Alerts By Severity"},"alerts_by_status":{"type":"object","title":"Alerts By Status"}},"type":"object","required":["total_alerts","active_alerts","resolved_alerts","false_alarms","average_response_time_seconds","alerts_by_severity","alerts_by_status"],"title":"PanicAlertStats","description":"Panic alert statistics"},"PanicAlertSummary":{"properties":{"id":{"type":"integer","title":"Id"},"guard_id":{"type":"integer","title":"Guard Id"},"severity":{"$ref":"#/components/schemas/AlertSeverityEnum"},"status":{"$ref":"#/components/schemas/AlertStatusEnum"},"location_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Location Name"},"triggered_at":{"type":"string","format":"date-time","title":"Triggered At"},"acknowledged_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Acknowledged At"},"is_active":{"type":"boolean","title":"Is Active"}},"type":"object","required":["id","guard_id","severity","status","location_name","triggered_at","acknowledged_at","is_active"],"title":"PanicAlertSummary","description":"Summary panic alert schema for lists"},"PanicAlertTrigger":{"properties":{"reason":{"anyOf":[{"type":"string","maxLength":255},{"type":"null"}],"title":"Reason","description":"Reason for the panic alert"},"severity":{"allOf":[{"$ref":"#/components/schemas/AlertSeverityEnum"}],"description":"Severity level of the alert","default":"high"},"location_lat":{"anyOf":[{"type":"number","maximum":90.0,"minimum":-90.0},{"type":"null"}],"title":"Location Lat","description":"GPS latitude"},"location_lon":{"anyOf":[{"type":"number","maximum":180.0,"minimum":-180.0},{"type":"null"}],"title":"Location Lon","description":"GPS longitude"},"location_accuracy":{"anyOf":[{"type":"number","minimum":0.0},{"type":"null"}],"title":"Location Accuracy","description":"GPS accuracy in meters"},"location_name":{"anyOf":[{"type":"string","maxLength":255},{"type":"null"}],"title":"Location Name","description":"Human-readable location name"}},"type":"object","title":"PanicAlertTrigger","description":"Schema for triggering a panic alert"},"PatrolStatus":{"type":"string","enum":["active","paused","completed","overdue"],"title":"PatrolStatus","description":"Live patrol status enumeration"},"PatrolTaskCreate":{"properties":{"title":{"type":"string","title":"Title"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"assigned_to":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Assigned To"},"due_date":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Due Date"},"status":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Status","description":"pending, in_progress, completed, cancelled","default":"pending"},"priority":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Priority","description":"low, medium, high, urgent","default":"medium"},"task_type":{"const":"patrol","title":"Task Type","default":"patrol"},"site_id":{"type":"integer","title":"Site Id"},"estimated_duration":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Estimated Duration","default":60},"start_time":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Start Time"},"end_time":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"End Time"},"is_recurring":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Is Recurring","default":false},"recurrence_pattern":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Recurrence Pattern"},"next_due_date":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Next Due Date"},"checkpoints":{"items":{"$ref":"#/components/schemas/TaskCheckpointCreate"},"type":"array","title":"Checkpoints","default":[]}},"type":"object","required":["title","site_id"],"title":"PatrolTaskCreate","description":"Patrol-specific task creation with required fields"},"Permission":{"properties":{"name":{"type":"string","title":"Name"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"resource":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Resource"},"action":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Action"},"scope":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Scope","default":"own"},"id":{"type":"integer","title":"Id"}},"type":"object","required":["name","id"],"title":"Permission"},"PermissionCreate":{"properties":{"name":{"type":"string","title":"Name"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"resource":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Resource"},"action":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Action"},"scope":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Scope","default":"own"}},"type":"object","required":["name"],"title":"PermissionCreate"},"Role":{"properties":{"id":{"type":"integer","title":"Id"},"name":{"type":"string","title":"Name"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"permissions":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Permissions","default":[]}},"type":"object","required":["id","name"],"title":"Role"},"RoleCreate":{"properties":{"name":{"type":"string","title":"Name"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"permissions":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Permissions","default":[]}},"type":"object","required":["name"],"title":"RoleCreate"},"RouteDeviationRequest":{"properties":{"patrol_id":{"type":"integer","title":"Patrol Id","description":"Patrol ID to analyze"},"max_deviation_meters":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Max Deviation Meters","description":"Maximum allowed deviation in meters","default":100.0}},"type":"object","required":["patrol_id"],"title":"RouteDeviationRequest","description":"Request schema for route deviation analysis"},"RouteDeviationResponse":{"properties":{"total_visits":{"type":"integer","title":"Total Visits","description":"Total number of checkpoint visits"},"valid_visits":{"type":"integer","title":"Valid Visits","description":"Number of visits with valid GPS coordinates"},"deviations":{"items":{"type":"object"},"type":"array","title":"Deviations","description":"List of detected deviations"},"deviation_count":{"type":"integer","title":"Deviation Count","description":"Number of deviations detected"},"average_deviation_meters":{"type":"number","title":"Average Deviation Meters","description":"Average deviation distance in meters"},"max_deviation_meters":{"type":"number","title":"Max Deviation Meters","description":"Maximum deviation distance in meters"},"compliance_percentage":{"type":"number","title":"Compliance Percentage","description":"Route compliance percentage"}},"type":"object","required":["total_visits","valid_visits","deviations","deviation_count","average_deviation_meters","max_deviation_meters","compliance_percentage"],"title":"RouteDeviationResponse","description":"Response schema for route deviation analysis"},"RouteEfficiencyResponse":{"properties":{"checkpoint_count":{"type":"integer","title":"Checkpoint Count","description":"Number of checkpoints in the route"},"current_route":{"items":{"type":"object"},"type":"array","title":"Current Route","description":"Current route checkpoint order"},"optimized_route":{"items":{"type":"object"},"type":"array","title":"Optimized Route","description":"Optimized route checkpoint order"},"current_route_distance_km":{"type":"number","title":"Current Route Distance Km","description":"Current route distance in km"},"optimized_route_distance_km":{"type":"number","title":"Optimized Route Distance Km","description":"Optimized route distance in km"},"potential_savings_km":{"type":"number","title":"Potential Savings Km","description":"Potential distance savings in km"},"potential_savings_percentage":{"type":"number","title":"Potential Savings Percentage","description":"Potential savings percentage"},"current_duration":{"type":"object","title":"Current Duration","description":"Current route duration estimate"},"optimized_duration":{"type":"object","title":"Optimized Duration","description":"Optimized route duration estimate"}},"type":"object","required":["checkpoint_count","current_route","optimized_route","current_route_distance_km","optimized_route_distance_km","potential_savings_km","potential_savings_percentage","current_duration","optimized_duration"],"title":"RouteEfficiencyResponse","description":"Response schema for route efficiency analysis"},"RouteOptimizationRequest":{"properties":{"checkpoint_ids":{"items":{"type":"integer"},"type":"array","title":"Checkpoint Ids","description":"List of checkpoint IDs to optimize"},"start_latitude":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Start Latitude","description":"Starting position latitude"},"start_longitude":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Start Longitude","description":"Starting position longitude"}},"type":"object","required":["checkpoint_ids"],"title":"RouteOptimizationRequest","description":"Request schema for route optimization"},"RouteOptimizationResponse":{"properties":{"optimized_checkpoints":{"items":{"type":"object"},"type":"array","title":"Optimized Checkpoints","description":"Optimized checkpoint order"},"duration_estimate":{"type":"object","title":"Duration Estimate","description":"Estimated duration for the route"},"total_distance_km":{"type":"number","title":"Total Distance Km","description":"Total route distance in kilometers"}},"type":"object","required":["optimized_checkpoints","duration_estimate","total_distance_km"],"title":"RouteOptimizationResponse","description":"Response schema for route optimization"},"RoutePerformanceResponse":{"properties":{"patrol_id":{"type":"integer","title":"Patrol Id","description":"Patrol ID"},"status":{"type":"string","title":"Status","description":"Patrol status"},"metrics":{"type":"object","title":"Metrics","description":"Performance metrics"}},"type":"object","required":["patrol_id","status","metrics"],"title":"RoutePerformanceResponse","description":"Response schema for route performance metrics"},"ScanMethod":{"type":"string","enum":["qr","nfc","gps","manual"],"title":"ScanMethod"},"SettingsCategory":{"properties":{"category":{"type":"string","title":"Category"},"count":{"type":"integer","title":"Count"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"}},"type":"object","required":["category","count"],"title":"SettingsCategory","description":"Schema for settings category information"},"SettingsMetrics":{"properties":{"total_settings":{"type":"integer","title":"Total Settings"},"public_settings":{"type":"integer","title":"Public Settings"},"editable_settings":{"type":"integer","title":"Editable Settings"},"categories":{"items":{"$ref":"#/components/schemas/SettingsCategory"},"type":"array","title":"Categories"},"last_updated":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Last Updated"},"most_recently_updated":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Most Recently Updated"}},"type":"object","required":["total_settings","public_settings","editable_settings","categories"],"title":"SettingsMetrics","description":"Schema for settings system metrics"},"ShiftCreate":{"properties":{"status":{"anyOf":[{"$ref":"#/components/schemas/ShiftStatusEnum"},{"type":"null"}]},"guard_id":{"type":"integer","title":"Guard Id","description":"ID of the guard assigned to this shift"},"site_id":{"type":"integer","title":"Site Id","description":"ID of the site for this shift"},"scheduled_start":{"type":"string","format":"date-time","title":"Scheduled Start","description":"Scheduled start time"},"scheduled_end":{"type":"string","format":"date-time","title":"Scheduled End","description":"Scheduled end time"},"title":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Title","description":"Optional shift title or description"},"notes":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Notes","description":"Additional notes about the shift"}},"type":"object","required":["guard_id","site_id","scheduled_start","scheduled_end"],"title":"ShiftCreate"},"ShiftRead":{"properties":{"status":{"$ref":"#/components/schemas/ShiftStatusEnum"},"guard_id":{"type":"integer","title":"Guard Id","description":"ID of the guard assigned to this shift"},"site_id":{"type":"integer","title":"Site Id","description":"ID of the site for this shift"},"scheduled_start":{"type":"string","format":"date-time","title":"Scheduled Start","description":"Scheduled start time"},"scheduled_end":{"type":"string","format":"date-time","title":"Scheduled End","description":"Scheduled end time"},"title":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Title","description":"Optional shift title or description"},"notes":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Notes","description":"Additional notes about the shift"},"id":{"type":"integer","title":"Id"},"actual_start":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Actual Start"},"actual_end":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Actual End"},"break_duration":{"type":"integer","title":"Break Duration","default":0},"overtime_approved":{"type":"boolean","title":"Overtime Approved","default":false},"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"type":"string","format":"date-time","title":"Updated At"}},"type":"object","required":["status","guard_id","site_id","scheduled_start","scheduled_end","id","created_at","updated_at"],"title":"ShiftRead"},"ShiftScheduleRequest":{"properties":{"site_id":{"type":"integer","title":"Site Id"},"guard_ids":{"items":{"type":"integer"},"type":"array","title":"Guard Ids"},"start_date":{"type":"string","format":"date-time","title":"Start Date"},"end_date":{"type":"string","format":"date-time","title":"End Date"},"shift_pattern":{"type":"string","title":"Shift Pattern","description":"Shift pattern (daily, weekly, custom)","default":"daily"},"hours_per_shift":{"type":"integer","maximum":24.0,"minimum":1.0,"title":"Hours Per Shift","default":8},"notes":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Notes"}},"type":"object","required":["site_id","guard_ids","start_date","end_date"],"title":"ShiftScheduleRequest","description":"Schema for creating shift schedules"},"ShiftStatusEnum":{"type":"string","enum":["scheduled","in_progress","break","completed","cancelled","no_show"],"title":"ShiftStatusEnum","description":"Shift status enumeration for API"},"ShiftUpdate":{"properties":{"guard_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Guard Id"},"site_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Site Id"},"scheduled_start":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Scheduled Start"},"scheduled_end":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Scheduled End"},"title":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Title"},"notes":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Notes"},"status":{"anyOf":[{"$ref":"#/components/schemas/ShiftStatusEnum"},{"type":"null"}]},"break_duration":{"anyOf":[{"type":"integer","minimum":0.0},{"type":"null"}],"title":"Break Duration","description":"Break duration in minutes"},"overtime_approved":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Overtime Approved"}},"type":"object","title":"ShiftUpdate"},"ShiftWithDetails":{"properties":{"status":{"$ref":"#/components/schemas/ShiftStatusEnum"},"guard_id":{"type":"integer","title":"Guard Id","description":"ID of the guard assigned to this shift"},"site_id":{"type":"integer","title":"Site Id","description":"ID of the site for this shift"},"scheduled_start":{"type":"string","format":"date-time","title":"Scheduled Start","description":"Scheduled start time"},"scheduled_end":{"type":"string","format":"date-time","title":"Scheduled End","description":"Scheduled end time"},"title":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Title","description":"Optional shift title or description"},"notes":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Notes","description":"Additional notes about the shift"},"id":{"type":"integer","title":"Id"},"actual_start":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Actual Start"},"actual_end":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Actual End"},"break_duration":{"type":"integer","title":"Break Duration","default":0},"overtime_approved":{"type":"boolean","title":"Overtime Approved","default":false},"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"type":"string","format":"date-time","title":"Updated At"},"guard":{"anyOf":[{"$ref":"#/components/schemas/UserRead"},{"type":"null"}]},"site":{"anyOf":[{"$ref":"#/components/schemas/SiteRead"},{"type":"null"}]},"checkins":{"items":{"type":"object"},"type":"array","title":"Checkins","default":[]},"total_hours_worked":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Total Hours Worked"},"overtime_hours":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Overtime Hours"}},"type":"object","required":["status","guard_id","site_id","scheduled_start","scheduled_end","id","created_at","updated_at"],"title":"ShiftWithDetails","description":"Schema for shift with related data"},"SiteCreate":{"properties":{"name":{"type":"string","title":"Name"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"address":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Address"},"latitude":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Latitude"},"longitude":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Longitude"}},"type":"object","required":["name"],"title":"SiteCreate"},"SiteRead":{"properties":{"name":{"type":"string","title":"Name"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"address":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Address"},"latitude":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Latitude"},"longitude":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Longitude"},"id":{"type":"integer","title":"Id"}},"type":"object","required":["name","id"],"title":"SiteRead"},"SiteUpdate":{"properties":{"name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Name"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"address":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Address"},"latitude":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Latitude"},"longitude":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Longitude"}},"type":"object","title":"SiteUpdate"},"SystemActivitySummary":{"properties":{"period_hours":{"type":"integer","title":"Period Hours"},"total_activity":{"type":"integer","title":"Total Activity"},"activity_by_action":{"additionalProperties":{"type":"integer"},"type":"object","title":"Activity By Action"},"activity_by_resource":{"additionalProperties":{"type":"integer"},"type":"object","title":"Activity By Resource"},"most_active_users":{"additionalProperties":{"type":"integer"},"type":"object","title":"Most Active Users"},"generated_at":{"type":"string","title":"Generated At"}},"type":"object","required":["period_hours","total_activity","activity_by_action","activity_by_resource","most_active_users","generated_at"],"title":"SystemActivitySummary","description":"Schema for system-wide activity summary"},"SystemHealthComponent":{"properties":{"name":{"type":"string","title":"Name"},"status":{"$ref":"#/components/schemas/SystemHealthStatus"},"message":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Message"},"last_check":{"type":"string","format":"date-time","title":"Last Check"},"response_time":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Response Time"}},"type":"object","required":["name","status","last_check"],"title":"SystemHealthComponent","description":"Individual system component health"},"SystemHealthResponse":{"properties":{"overall_status":{"$ref":"#/components/schemas/SystemHealthStatus"},"components":{"items":{"$ref":"#/components/schemas/SystemHealthComponent"},"type":"array","title":"Components"},"last_updated":{"type":"string","format":"date-time","title":"Last Updated"},"active_guards":{"type":"integer","title":"Active Guards"},"active_patrols":{"type":"integer","title":"Active Patrols"},"open_incidents":{"type":"integer","title":"Open Incidents"},"active_alerts":{"type":"integer","title":"Active Alerts"}},"type":"object","required":["overall_status","components","last_updated","active_guards","active_patrols","open_incidents","active_alerts"],"title":"SystemHealthResponse","description":"Complete system health status"},"SystemHealthStatus":{"type":"string","enum":["healthy","warning","critical","down"],"title":"SystemHealthStatus","description":"System health status enumeration"},"SystemSettingCreate":{"properties":{"key":{"type":"string","title":"Key","description":"Setting key/identifier"},"value":{"title":"Value","description":"Setting value"},"data_type":{"type":"string","enum":["string","int","float","bool","json"],"title":"Data Type","description":"Data type of the value"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description","description":"Human-readable description"},"is_public":{"type":"boolean","title":"Is Public","description":"Whether setting is publicly accessible","default":false},"is_editable":{"type":"boolean","title":"Is Editable","description":"Whether setting can be edited via API","default":true},"category":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Category","description":"Setting category"},"min_value":{"anyOf":[{},{"type":"null"}],"title":"Min Value","description":"Minimum value for numeric settings"},"max_value":{"anyOf":[{},{"type":"null"}],"title":"Max Value","description":"Maximum value for numeric settings"},"allowed_values":{"anyOf":[{"items":{},"type":"array"},{"type":"null"}],"title":"Allowed Values","description":"Allowed values for enum-like settings"},"default_value":{"anyOf":[{},{"type":"null"}],"title":"Default Value","description":"Default value"}},"type":"object","required":["key","value","data_type"],"title":"SystemSettingCreate","description":"Schema for creating system settings"},"SystemSettingPublic":{"properties":{"key":{"type":"string","title":"Key"},"value":{"title":"Value"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"category":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Category"}},"type":"object","required":["key","value"],"title":"SystemSettingPublic","description":"Schema for public system settings (limited information)"},"SystemSettingRead":{"properties":{"key":{"type":"string","title":"Key","description":"Setting key/identifier"},"value":{"title":"Value","description":"Setting value"},"data_type":{"type":"string","enum":["string","int","float","bool","json"],"title":"Data Type","description":"Data type of the value"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description","description":"Human-readable description"},"is_public":{"type":"boolean","title":"Is Public","description":"Whether setting is publicly accessible","default":false},"is_editable":{"type":"boolean","title":"Is Editable","description":"Whether setting can be edited via API","default":true},"category":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Category","description":"Setting category"},"min_value":{"anyOf":[{},{"type":"null"}],"title":"Min Value","description":"Minimum value for numeric settings"},"max_value":{"anyOf":[{},{"type":"null"}],"title":"Max Value","description":"Maximum value for numeric settings"},"allowed_values":{"anyOf":[{"items":{},"type":"array"},{"type":"null"}],"title":"Allowed Values","description":"Allowed values for enum-like settings"},"default_value":{"anyOf":[{},{"type":"null"}],"title":"Default Value","description":"Default value"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"type":"string","format":"date-time","title":"Updated At"},"updated_by":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Updated By"}},"type":"object","required":["key","value","data_type","created_at","updated_at"],"title":"SystemSettingRead","description":"Schema for reading system settings"},"SystemSettingUpdate":{"properties":{"value":{"anyOf":[{},{"type":"null"}],"title":"Value","description":"New setting value"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description","description":"Updated description"},"is_public":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Is Public","description":"Update public accessibility"},"is_editable":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Is Editable","description":"Update editability"},"category":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Category","description":"Update category"},"min_value":{"anyOf":[{},{"type":"null"}],"title":"Min Value","description":"Update minimum value"},"max_value":{"anyOf":[{},{"type":"null"}],"title":"Max Value","description":"Update maximum value"},"allowed_values":{"anyOf":[{"items":{},"type":"array"},{"type":"null"}],"title":"Allowed Values","description":"Update allowed values"}},"type":"object","title":"SystemSettingUpdate","description":"Schema for updating system settings"},"SystemSettingsList":{"properties":{"settings":{"items":{"$ref":"#/components/schemas/SystemSettingRead"},"type":"array","title":"Settings"},"total":{"type":"integer","title":"Total"},"page":{"type":"integer","title":"Page"},"per_page":{"type":"integer","title":"Per Page"},"has_next":{"type":"boolean","title":"Has Next"},"has_prev":{"type":"boolean","title":"Has Prev"}},"type":"object","required":["settings","total","page","per_page","has_next","has_prev"],"title":"SystemSettingsList","description":"Schema for paginated system settings list"},"SystemSettingsPublicList":{"properties":{"settings":{"items":{"$ref":"#/components/schemas/SystemSettingPublic"},"type":"array","title":"Settings"},"total":{"type":"integer","title":"Total"}},"type":"object","required":["settings","total"],"title":"SystemSettingsPublicList","description":"Schema for public system settings list"},"TaskCheckpointCreate":{"properties":{"name":{"type":"string","title":"Name"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"latitude":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Latitude"},"longitude":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Longitude"},"area_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Area Id"},"qr_code":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Qr Code"},"nfc_tag":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Nfc Tag"},"is_required":{"type":"boolean","title":"Is Required","default":true},"order_index":{"type":"integer","title":"Order Index","default":0}},"type":"object","required":["name"],"title":"TaskCheckpointCreate"},"TaskCheckpointRead":{"properties":{"name":{"type":"string","title":"Name"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"latitude":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Latitude"},"longitude":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Longitude"},"area_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Area Id"},"qr_code":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Qr Code"},"nfc_tag":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Nfc Tag"},"is_required":{"type":"boolean","title":"Is Required","default":true},"order_index":{"type":"integer","title":"Order Index","default":0},"id":{"type":"integer","title":"Id"},"task_id":{"type":"integer","title":"Task Id"},"created_at":{"type":"string","format":"date-time","title":"Created At"}},"type":"object","required":["name","id","task_id","created_at"],"title":"TaskCheckpointRead"},"TaskCheckpointVisitCreate":{"properties":{"checkpoint_id":{"type":"integer","title":"Checkpoint Id"},"notes":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Notes"},"evidence_files":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Evidence Files"},"latitude":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Latitude"},"longitude":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Longitude"}},"type":"object","required":["checkpoint_id"],"title":"TaskCheckpointVisitCreate"},"TaskCheckpointVisitRead":{"properties":{"id":{"type":"integer","title":"Id"},"task_id":{"type":"integer","title":"Task Id"},"checkpoint_id":{"type":"integer","title":"Checkpoint Id"},"user_id":{"type":"integer","title":"User Id"},"visited_at":{"type":"string","format":"date-time","title":"Visited At"},"notes":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Notes"},"evidence_files":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Evidence Files"},"latitude":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Latitude"},"longitude":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Longitude"}},"type":"object","required":["id","task_id","checkpoint_id","user_id","visited_at"],"title":"TaskCheckpointVisitRead"},"TaskCreate":{"properties":{"title":{"type":"string","title":"Title"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"assigned_to":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Assigned To"},"due_date":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Due Date"},"status":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Status","description":"pending, in_progress, completed, cancelled","default":"pending"},"priority":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Priority","description":"low, medium, high, urgent","default":"medium"},"task_type":{"anyOf":[{"type":"string","enum":["general","patrol","inspection","maintenance","security","training","emergency"]},{"type":"null"}],"title":"Task Type","description":"general, patrol, inspection, maintenance, security, training, emergency","default":"general"},"site_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Site Id"},"estimated_duration":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Estimated Duration"},"start_time":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Start Time"},"end_time":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"End Time"},"is_recurring":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Is Recurring","default":false},"recurrence_pattern":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Recurrence Pattern"},"next_due_date":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Next Due Date"},"checkpoints":{"anyOf":[{"items":{"$ref":"#/components/schemas/TaskCheckpointCreate"},"type":"array"},{"type":"null"}],"title":"Checkpoints","default":[]}},"type":"object","required":["title"],"title":"TaskCreate"},"TaskOut":{"properties":{"id":{"type":"integer","title":"Id"},"title":{"type":"string","title":"Title"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"assigned_to":{"type":"integer","title":"Assigned To"},"due_date":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Due Date"},"status":{"type":"string","title":"Status"},"priority":{"type":"string","title":"Priority"},"created_by":{"type":"integer","title":"Created By"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"type":"string","format":"date-time","title":"Updated At"},"task_type":{"type":"string","enum":["general","patrol","inspection","maintenance","security","training","emergency"],"title":"Task Type","default":"general"},"site_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Site Id"},"estimated_duration":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Estimated Duration"},"start_time":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Start Time"},"end_time":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"End Time"},"completion_percentage":{"type":"integer","title":"Completion Percentage","default":0},"is_recurring":{"type":"boolean","title":"Is Recurring","default":false},"recurrence_pattern":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Recurrence Pattern"},"next_due_date":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Next Due Date"},"checkpoints":{"anyOf":[{"items":{"$ref":"#/components/schemas/TaskCheckpointRead"},"type":"array"},{"type":"null"}],"title":"Checkpoints","default":[]},"checkpoint_visits":{"anyOf":[{"items":{"$ref":"#/components/schemas/TaskCheckpointVisitRead"},"type":"array"},{"type":"null"}],"title":"Checkpoint Visits","default":[]}},"type":"object","required":["id","title","assigned_to","status","priority","created_by","created_at","updated_at"],"title":"TaskOut"},"TaskUpdate":{"properties":{"title":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Title"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"assigned_to":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Assigned To"},"due_date":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Due Date"},"status":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Status"},"priority":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Priority"},"task_type":{"anyOf":[{"type":"string","enum":["general","patrol","inspection","maintenance","security","training","emergency"]},{"type":"null"}],"title":"Task Type"},"site_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Site Id"},"estimated_duration":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Estimated Duration"},"start_time":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Start Time"},"end_time":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"End Time"},"completion_percentage":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Completion Percentage"},"is_recurring":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Is Recurring"},"recurrence_pattern":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Recurrence Pattern"},"next_due_date":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Next Due Date"}},"type":"object","title":"TaskUpdate"},"Token":{"properties":{"access_token":{"type":"string","title":"Access Token"},"token_type":{"type":"string","title":"Token Type"}},"type":"object","required":["access_token","token_type"],"title":"Token"},"UserActivitySummary":{"properties":{"user_id":{"type":"integer","title":"User Id"},"period_days":{"type":"integer","title":"Period Days"},"total_actions":{"type":"integer","title":"Total Actions"},"actions_by_type":{"additionalProperties":{"type":"integer"},"type":"object","title":"Actions By Type"},"resources_by_type":{"additionalProperties":{"type":"integer"},"type":"object","title":"Resources By Type"},"recent_activity":{"items":{"type":"object"},"type":"array","title":"Recent Activity"}},"type":"object","required":["user_id","period_days","total_actions","actions_by_type","resources_by_type","recent_activity"],"title":"UserActivitySummary","description":"Schema for user activity summary"},"UserCreate":{"properties":{"username":{"type":"string","title":"Username"},"email":{"type":"string","format":"email","title":"Email"},"full_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Full Name"},"is_active":{"type":"boolean","title":"Is Active","default":true},"status":{"type":"string","title":"Status","default":"active"},"employment_date":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Employment Date"},"job_title":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Job Title"},"department":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Department"},"password":{"type":"string","title":"Password"},"roles":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Roles","default":[]}},"type":"object","required":["username","email","password"],"title":"UserCreate"},"UserRead":{"properties":{"username":{"type":"string","title":"Username"},"email":{"type":"string","format":"email","title":"Email"},"full_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Full Name"},"is_active":{"type":"boolean","title":"Is Active","default":true},"status":{"type":"string","title":"Status","default":"active"},"employment_date":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Employment Date"},"job_title":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Job Title"},"department":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Department"},"id":{"type":"integer","title":"Id"},"roles":{"items":{"type":"string"},"type":"array","title":"Roles","default":[]},"permissions":{"items":{"type":"string"},"type":"array","title":"Permissions","default":[]},"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"type":"string","format":"date-time","title":"Updated At"}},"type":"object","required":["username","email","id","created_at","updated_at"],"title":"UserRead"},"UserUpdate":{"properties":{"full_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Full Name"},"email":{"anyOf":[{"type":"string","format":"email"},{"type":"null"}],"title":"Email"},"is_active":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Is Active"},"status":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Status"},"employment_date":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Employment Date"},"job_title":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Job Title"},"department":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Department"},"password":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Password"},"roles":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Roles"}},"type":"object","title":"UserUpdate"},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"},"VisitorCreate":{"properties":{"name":{"type":"string","title":"Name"},"company":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Company"},"purpose":{"type":"string","title":"Purpose"},"host_user_id":{"type":"integer","title":"Host User Id"},"check_in_time":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Check In Time"},"check_out_time":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Check Out Time"},"status":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Status","description":"checked_in, checked_out","default":"checked_in"},"notes":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Notes"}},"type":"object","required":["name","purpose","host_user_id"],"title":"VisitorCreate"},"VisitorOut":{"properties":{"name":{"type":"string","title":"Name"},"company":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Company"},"purpose":{"type":"string","title":"Purpose"},"host_user_id":{"type":"integer","title":"Host User Id"},"check_in_time":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Check In Time"},"check_out_time":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Check Out Time"},"status":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Status","description":"checked_in, checked_out","default":"checked_in"},"notes":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Notes"},"id":{"type":"integer","title":"Id"}},"type":"object","required":["name","purpose","host_user_id","id"],"title":"VisitorOut"},"VisitorUpdate":{"properties":{"name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Name"},"company":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Company"},"purpose":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Purpose"},"check_out_time":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Check Out Time"},"status":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Status"},"notes":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Notes"}},"type":"object","title":"VisitorUpdate"},"WebhookCreate":{"properties":{"name":{"type":"string","title":"Name"},"url":{"type":"string","maxLength":2083,"minLength":1,"format":"uri","title":"Url"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"events":{"items":{"$ref":"#/components/schemas/WebhookEventTypeSchema"},"type":"array","title":"Events"},"secret_token":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Secret Token"},"headers":{"anyOf":[{"additionalProperties":{"type":"string"},"type":"object"},{"type":"null"}],"title":"Headers"},"timeout_seconds":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Timeout Seconds","default":30},"retry_count":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Retry Count","default":3},"retry_delay_seconds":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Retry Delay Seconds","default":60}},"type":"object","required":["name","url","events"],"title":"WebhookCreate","description":"Schema for creating a new webhook."},"WebhookDeliveryResult":{"properties":{"webhook_id":{"type":"integer","title":"Webhook Id"},"event_type":{"type":"string","title":"Event Type"},"success":{"type":"boolean","title":"Success"},"attempts":{"type":"integer","title":"Attempts"},"final_error":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Final Error"},"delivery_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Delivery Id"},"status_code":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Status Code"},"response_time_ms":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Response Time Ms"}},"type":"object","required":["webhook_id","event_type","success","attempts"],"title":"WebhookDeliveryResult","description":"Schema for webhook delivery result."},"WebhookEventTrigger":{"properties":{"event_type":{"$ref":"#/components/schemas/WebhookEventTypeSchema"},"data":{"anyOf":[{"type":"object"},{"type":"null"}],"title":"Data"}},"type":"object","required":["event_type"],"title":"WebhookEventTrigger","description":"Schema for testing webhook with custom event."},"WebhookEventTypeSchema":{"type":"string","enum":["incident.created","incident.updated","incident.resolved","panic.triggered","panic.acknowledged","patrol.started","patrol.completed","shift.started","shift.ended","checkpoint.visited","user.created","user.updated","task.assigned","task.completed"],"title":"WebhookEventTypeSchema","description":"Available webhook event types."},"WebhookHealth":{"properties":{"webhook_id":{"type":"integer","title":"Webhook Id"},"webhook_name":{"type":"string","title":"Webhook Name"},"period_days":{"type":"integer","title":"Period Days"},"health_score":{"type":"integer","title":"Health Score"},"health_status":{"type":"string","title":"Health Status"},"total_deliveries":{"type":"integer","title":"Total Deliveries"},"successful_deliveries":{"type":"integer","title":"Successful Deliveries"},"failed_deliveries":{"type":"integer","title":"Failed Deliveries"},"success_rate":{"type":"number","title":"Success Rate"},"average_response_time_ms":{"type":"integer","title":"Average Response Time Ms"},"last_delivery":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Last Delivery"},"last_success":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Last Success"},"status":{"type":"string","title":"Status"}},"type":"object","required":["webhook_id","webhook_name","period_days","health_score","health_status","total_deliveries","successful_deliveries","failed_deliveries","success_rate","average_response_time_ms","status"],"title":"WebhookHealth","description":"Schema for webhook health metrics."},"WebhookList":{"properties":{"webhooks":{"items":{"$ref":"#/components/schemas/WebhookRead"},"type":"array","title":"Webhooks"},"total":{"type":"integer","title":"Total"}},"type":"object","required":["webhooks","total"],"title":"WebhookList","description":"Schema for webhook list response."},"WebhookRead":{"properties":{"id":{"type":"integer","title":"Id"},"name":{"type":"string","title":"Name"},"url":{"type":"string","title":"Url"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"events":{"items":{"type":"string"},"type":"array","title":"Events"},"status":{"type":"string","title":"Status"},"is_active":{"type":"boolean","title":"Is Active"},"total_deliveries":{"type":"integer","title":"Total Deliveries","default":0},"successful_deliveries":{"type":"integer","title":"Successful Deliveries","default":0},"failed_deliveries":{"type":"integer","title":"Failed Deliveries","default":0},"last_delivery_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Last Delivery At"},"last_success_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Last Success At"},"last_failure_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Last Failure At"},"timeout_seconds":{"type":"integer","title":"Timeout Seconds"},"retry_count":{"type":"integer","title":"Retry Count"},"retry_delay_seconds":{"type":"integer","title":"Retry Delay Seconds"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Updated At"}},"type":"object","required":["id","name","url","events","status","is_active","timeout_seconds","retry_count","retry_delay_seconds","created_at"],"title":"WebhookRead","description":"Schema for reading webhook details."},"WebhookUpdate":{"properties":{"name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Name"},"url":{"anyOf":[{"type":"string","maxLength":2083,"minLength":1,"format":"uri"},{"type":"null"}],"title":"Url"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"events":{"anyOf":[{"items":{"$ref":"#/components/schemas/WebhookEventTypeSchema"},"type":"array"},{"type":"null"}],"title":"Events"},"secret_token":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Secret Token"},"headers":{"anyOf":[{"additionalProperties":{"type":"string"},"type":"object"},{"type":"null"}],"title":"Headers"},"timeout_seconds":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Timeout Seconds"},"retry_count":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Retry Count"},"retry_delay_seconds":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Retry Delay Seconds"},"is_active":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Is Active"}},"type":"object","title":"WebhookUpdate","description":"Schema for updating a webhook."},"WidgetDataResponse":{"properties":{"widget_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Widget Id"},"widget_type":{"type":"string","title":"Widget Type"},"data":{"type":"object","title":"Data"},"last_updated":{"type":"string","format":"date-time","title":"Last Updated"},"next_refresh":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Next Refresh"}},"type":"object","required":["widget_type","data","last_updated"],"title":"WidgetDataResponse","description":"Schema for widget data response."},"app__schemas__gps__GuardLocationStatus":{"properties":{"guard_id":{"type":"integer","title":"Guard Id"},"guard_name":{"type":"string","title":"Guard Name"},"latitude":{"type":"number","title":"Latitude"},"longitude":{"type":"number","title":"Longitude"},"status":{"$ref":"#/components/schemas/LocationStatus"},"last_update":{"type":"string","format":"date-time","title":"Last Update"},"site_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Site Id"},"accuracy":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Accuracy"},"message":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Message"}},"type":"object","required":["guard_id","guard_name","latitude","longitude","status","last_update","site_id","accuracy","message"],"title":"GuardLocationStatus","description":"Current guard location and status for monitoring."},"app__schemas__live__GuardLocationStatus":{"type":"string","enum":["active","sos","offline","break","patrol"],"title":"GuardLocationStatus","description":"Guard location status enumeration"},"app__schemas__mobile__auth__MobileUserProfile":{"properties":{"id":{"type":"integer","title":"Id"},"username":{"type":"string","title":"Username"},"full_name":{"type":"string","title":"Full Name"},"email":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Email"},"phone":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Phone"},"role":{"type":"string","title":"Role"},"is_active":{"type":"boolean","title":"Is Active"},"site_ids":{"anyOf":[{"items":{},"type":"array"},{"type":"null"}],"title":"Site Ids"}},"type":"object","required":["id","username","full_name","role","is_active"],"title":"MobileUserProfile","description":"Minimal user profile for mobile"},"app__schemas__mobile__optimized__MobileUserProfile":{"properties":{"id":{"type":"integer","title":"Id"},"username":{"type":"string","title":"Username"},"display_name":{"type":"string","title":"Display Name"},"role":{"type":"string","title":"Role"},"active":{"type":"boolean","title":"Active","default":true},"sites":{"anyOf":[{"items":{"type":"integer"},"type":"array"},{"type":"null"}],"title":"Sites"}},"type":"object","required":["id","username","display_name","role"],"title":"MobileUserProfile","description":"Minimal user profile for mobile"}},"securitySchemes":{"HTTPBearer":{"type":"http","scheme":"bearer"}}}}